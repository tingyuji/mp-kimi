require("../@babel/runtime/helpers/Objectvalues");var t=require("../@babel/runtime/helpers/createForOfIteratorHelper"),e=require("../@babel/runtime/helpers/createClass"),r=require("../@babel/runtime/helpers/classCallCheck"),n=require("../@babel/runtime/helpers/inherits"),i=require("../@babel/runtime/helpers/createSuper"),o=require("../@babel/runtime/helpers/regeneratorRuntime"),a=require("../@babel/runtime/helpers/asyncToGenerator"),l=require("../@babel/runtime/helpers/typeof");(wx.webpackJsonp=wx.webpackJsonp||[]).push([[81],{5016:function(t){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==l(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(1)),o=r(2),a=0,l=function(){function t(e){var r=this;void 0===e&&(e={}),this.parent=null,this.id=t.uuid(),this.style={},this.computedStyle={},this.lastComputedStyle={},this.children={},this.layoutBox={left:0,top:0,width:0,height:0},e=Object.assign(o.getDefaultStyle(),e),this.computedStyle=Object.assign(o.getDefaultStyle(),e),this.lastComputedStyle=Object.assign(o.getDefaultStyle(),e),Object.keys(e).forEach((function(t){Object.defineProperty(r.style,t,{configurable:!0,enumerable:!0,get:function(){return e[t]},set:function(n){n!==e[t]&&void 0!==n&&(r.lastComputedStyle=r.computedStyle[t],e[t]=n,r.computedStyle[t]=n,o.scalableStyles.includes(t)&&r.style.scale&&(r.computedStyle[t]=n*r.style.scale),"scale"===t&&o.scalableStyles.forEach((function(t){e[t]&&(r.computedStyle[t]=e[t]*n)})),"hidden"===t&&(n?o.layoutAffectedStyles.forEach((function(t){r.computedStyle[t]=0})):o.layoutAffectedStyles.forEach((function(t){r.computedStyle[t]=r.lastComputedStyle[t]}))))}})})),this.style.scale&&o.scalableStyles.forEach((function(t){if(r.style[t]){var e=r.style[t]*r.style.scale;r.computedStyle[t]=e}})),e.hidden&&o.layoutAffectedStyles.forEach((function(t){r.computedStyle[t]=0}))}return t.uuid=function(){return a++},t.prototype.getAbsolutePosition=function(t){if(!t)return this.getAbsolutePosition(this);if(!t.parent)return{left:0,top:0};var e=this.getAbsolutePosition(t.parent),r=e.left,n=e.top;return{left:r+t.layoutBox.left,top:n+t.layoutBox.top}},t.prototype.add=function(t){t.parent=this,this.children[t.id]=t},t.prototype.remove=function(t){var e=this;t?this.children[t.id]&&(t.remove(),delete this.children[t.id]):Object.keys(this.children).forEach((function(t){e.children[t].remove(),delete e.children[t]}))},t.prototype.getNodeTree=function(){var t=this;return{id:this.id,style:this.computedStyle,children:Object.keys(this.children).map((function(e){return t.children[e].getNodeTree()}))}},t.prototype.applyLayout=function(t){var e=this;["left","top","width","height"].forEach((function(r){t.layout&&"number"==typeof t.layout[r]&&(e.layoutBox[r]=t.layout[r],!e.parent||"left"!==r&&"top"!==r||(e.layoutBox[r]+=e.parent.layoutBox[r]))})),t.children.forEach((function(t){e.children[t.id].applyLayout(t)}))},t.prototype.layout=function(){var t=this.getNodeTree();i.default(t),this.applyLayout(t)},t}();e.default=l},function(t,e,r){r.r(e);var n=function(){var t,e="inherit",r="row",n="row-reverse",i="column",o="column-reverse",a="flex-start",l="center",u="flex-start",s="center",d="flex-end",c="stretch",f="relative",h="absolute",y={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},p={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},v={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},g={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function m(t){return void 0===t}function b(t){return t===r||t===n}function x(t,e){if(void 0!==t.style.marginStart&&b(e))return t.style.marginStart;var r=null;switch(e){case"row":r=t.style.marginLeft;break;case"row-reverse":r=t.style.marginRight;break;case"column":r=t.style.marginTop;break;case"column-reverse":r=t.style.marginBottom}return void 0!==r?r:void 0!==t.style.margin?t.style.margin:0}function w(t,e){if(void 0!==t.style.marginEnd&&b(e))return t.style.marginEnd;var r=null;switch(e){case"row":r=t.style.marginRight;break;case"row-reverse":r=t.style.marginLeft;break;case"column":r=t.style.marginBottom;break;case"column-reverse":r=t.style.marginTop}return null!=r?r:void 0!==t.style.margin?t.style.margin:0}function S(t,e){if(void 0!==t.style.borderStartWidth&&t.style.borderStartWidth>=0&&b(e))return t.style.borderStartWidth;var r=null;switch(e){case"row":r=t.style.borderLeftWidth;break;case"row-reverse":r=t.style.borderRightWidth;break;case"column":r=t.style.borderTopWidth;break;case"column-reverse":r=t.style.borderBottomWidth}return null!=r&&r>=0?r:void 0!==t.style.borderWidth&&t.style.borderWidth>=0?t.style.borderWidth:0}function k(t,e){if(void 0!==t.style.borderEndWidth&&t.style.borderEndWidth>=0&&b(e))return t.style.borderEndWidth;var r=null;switch(e){case"row":r=t.style.borderRightWidth;break;case"row-reverse":r=t.style.borderLeftWidth;break;case"column":r=t.style.borderBottomWidth;break;case"column-reverse":r=t.style.borderTopWidth}return null!=r&&r>=0?r:void 0!==t.style.borderWidth&&t.style.borderWidth>=0?t.style.borderWidth:0}function W(t,e){return function(t,e){if(void 0!==t.style.paddingStart&&t.style.paddingStart>=0&&b(e))return t.style.paddingStart;var r=null;switch(e){case"row":r=t.style.paddingLeft;break;case"row-reverse":r=t.style.paddingRight;break;case"column":r=t.style.paddingTop;break;case"column-reverse":r=t.style.paddingBottom}return null!=r&&r>=0?r:void 0!==t.style.padding&&t.style.padding>=0?t.style.padding:0}(t,e)+S(t,e)}function L(t,e){return function(t,e){if(void 0!==t.style.paddingEnd&&t.style.paddingEnd>=0&&b(e))return t.style.paddingEnd;var r=null;switch(e){case"row":r=t.style.paddingRight;break;case"row-reverse":r=t.style.paddingLeft;break;case"column":r=t.style.paddingBottom;break;case"column-reverse":r=t.style.paddingTop}return null!=r&&r>=0?r:void 0!==t.style.padding&&t.style.padding>=0?t.style.padding:0}(t,e)+k(t,e)}function T(t,e){return S(t,e)+k(t,e)}function j(t,e){return x(t,e)+w(t,e)}function C(t,e){return W(t,e)+L(t,e)}function O(t,e){return e.style.alignSelf?e.style.alignSelf:t.style.alignItems?t.style.alignItems:"stretch"}function P(t,e){if("rtl"===e){if(t===r)return n;if(t===n)return r}return t}function B(t){return t.style.position?t.style.position:"relative"}function E(t){return B(t)===f&&t.style.flex>0}function M(t,e){return t.layout[g[e]]+j(t,e)}function R(t,e){return void 0!==t.style[g[e]]&&t.style[g[e]]>=0}function _(t,e){return void 0!==t.style[e]}function I(t,e){return void 0!==t.style[e]?t.style[e]:0}function A(t,e,r){var n={row:t.style.minWidth,"row-reverse":t.style.minWidth,column:t.style.minHeight,"column-reverse":t.style.minHeight}[e],i={row:t.style.maxWidth,"row-reverse":t.style.maxWidth,column:t.style.maxHeight,"column-reverse":t.style.maxHeight}[e],o=r;return void 0!==i&&i>=0&&o>i&&(o=i),void 0!==n&&n>=0&&o<n&&(o=n),o}function q(t,e){return t>e?t:e}function H(t,e){void 0===t.layout[g[e]]&&R(t,e)&&(t.layout[g[e]]=q(A(t,e,t.style[g[e]]),C(t,e)))}function D(t,e,r){e.layout[p[r]]=t.layout[g[r]]-e.layout[g[r]]-e.layout[v[r]]}function N(t,e){return void 0!==t.style[y[e]]?I(t,y[e]):-I(t,p[e])}function F(k,F,J){var U=function(t,r){var n;return(n=t.style.direction?t.style.direction:e)===e&&(n=void 0===r?"ltr":r),n}(k,J),V=P(function(t){return t.style.flexDirection?t.style.flexDirection:i}(k),U),G=function(t,e){return function(t){return t===i||t===o}(t)?P(r,e):i}(V,U),Q=P(r,U);H(k,V),H(k,G),k.layout.direction=U,k.layout[y[V]]+=x(k,V)+N(k,V),k.layout[p[V]]+=w(k,V)+N(k,V),k.layout[y[G]]+=x(k,G)+N(k,G),k.layout[p[G]]+=w(k,G)+N(k,G);var $=k.children.length,K=C(k,Q);if(function(t){return void 0!==t.style.measure}(k)){var X=!m(k.layout[g[Q]]),Y=t;Y=R(k,Q)?k.style.width:X?k.layout[g[Q]]:F-j(k,Q),Y-=K;var Z=!R(k,Q)&&!X,tt=!R(k,i)&&m(k.layout[g[i]]);if(Z||tt){var et=k.style.measure(Y);Z&&(k.layout.width=et.width+K),tt&&(k.layout.height=et.height+C(k,i))}if(0===$)return}var rt,nt,it,ot,at=function(t){return"wrap"===t.style.flexWrap}(k),lt=function(t){return t.style.justifyContent?t.style.justifyContent:"flex-start"}(k),ut=W(k,V),st=W(k,G),dt=C(k,V),ct=C(k,G),ft=!m(k.layout[g[V]]),ht=!m(k.layout[g[G]]),yt=b(V),pt=null,vt=null,gt=t;ft&&(gt=k.layout[g[V]]-dt);for(var mt=0,bt=0,xt=0,wt=0,St=0,kt=0;bt<$;){var Wt,Lt=0,Tt=0,jt=0,Ct=0,Ot=ft&&lt===a||!ft&&lt!==l,Pt=Ot?$:mt,Bt=!0,Et=$,Mt=null,Rt=null,_t=ut,It=0;for(rt=mt;rt<$;++rt){if((it=k.children[rt]).lineIndex=kt,it.nextAbsoluteChild=null,it.nextFlexChild=null,(Ut=O(k,it))===c&&B(it)===f&&ht&&!R(it,G))it.layout[g[G]]=q(A(it,G,k.layout[g[G]]-ct-j(it,G)),C(it,G));else if(B(it)===h)for(null===pt&&(pt=it),null!==vt&&(vt.nextAbsoluteChild=it),vt=it,nt=0;nt<2;nt++)ot=0!==nt?r:i,!m(k.layout[g[ot]])&&!R(it,ot)&&_(it,y[ot])&&_(it,p[ot])&&(it.layout[g[ot]]=q(A(it,ot,k.layout[g[ot]]-C(k,ot)-j(it,ot)-I(it,y[ot])-I(it,p[ot])),C(it,ot)));var At=0;if(ft&&E(it)?(Tt++,jt+=it.style.flex,null===Mt&&(Mt=it),null!==Rt&&(Rt.nextFlexChild=it),Rt=it,At=C(it,V)+j(it,V)):(Wt=t,yt||(Wt=R(k,Q)?k.layout[g[Q]]-K:F-j(k,Q)-K),0===xt&&z(it,Wt,U),B(it)===f&&(Ct++,At=M(it,V))),at&&ft&&Lt+At>gt&&rt!==mt){Ct--,xt=1;break}Ot&&(B(it)!==f||E(it))&&(Ot=!1,Pt=rt),Bt&&(B(it)!==f||Ut!==c&&Ut!==u||m(it.layout[g[G]]))&&(Bt=!1,Et=rt),Ot&&(it.layout[v[V]]+=_t,ft&&D(k,it,V),_t+=M(it,V),It=q(It,A(it,G,M(it,G)))),Bt&&(it.layout[v[G]]+=wt+st,ht&&D(k,it,G)),xt=0,Lt+=At,bt=rt+1}var qt=0,Ht=0,Dt=0;if(Dt=ft?gt-Lt:q(Lt,0)-Lt,0!==Tt){var Nt,Ft,zt=Dt/jt;for(Rt=Mt;null!==Rt;)(Nt=zt*Rt.style.flex+C(Rt,V))!==(Ft=A(Rt,V,Nt))&&(Dt-=Ft,jt-=Rt.style.flex),Rt=Rt.nextFlexChild;for((zt=Dt/jt)<0&&(zt=0),Rt=Mt;null!==Rt;)Rt.layout[g[V]]=A(Rt,V,zt*Rt.style.flex+C(Rt,V)),Wt=t,R(k,Q)?Wt=k.layout[g[Q]]-K:yt||(Wt=F-j(k,Q)-K),z(Rt,Wt,U),it=Rt,Rt=Rt.nextFlexChild,it.nextFlexChild=null}else lt!==a&&(lt===l?qt=Dt/2:"flex-end"===lt?qt=Dt:"space-between"===lt?(Dt=q(Dt,0),Ht=Tt+Ct-1!=0?Dt/(Tt+Ct-1):0):"space-around"===lt&&(qt=(Ht=Dt/(Tt+Ct))/2));for(_t+=qt,rt=Pt;rt<bt;++rt)B(it=k.children[rt])===h&&_(it,y[V])?it.layout[v[V]]=I(it,y[V])+S(k,V)+x(it,V):(it.layout[v[V]]+=_t,ft&&D(k,it,V),B(it)===f&&(_t+=Ht+M(it,V),It=q(It,A(it,G,M(it,G)))));var Jt=k.layout[g[G]];for(ht||(Jt=q(A(k,G,It+ct),ct)),rt=Et;rt<bt;++rt)if(B(it=k.children[rt])===h&&_(it,y[G]))it.layout[v[G]]=I(it,y[G])+S(k,G)+x(it,G);else{var Ut,Vt=st;if(B(it)===f)if((Ut=O(k,it))===c)m(it.layout[g[G]])&&(it.layout[g[G]]=q(A(it,G,Jt-ct-j(it,G)),C(it,G)));else if(Ut!==u){var Gt=Jt-ct-M(it,G);Vt+=Ut===s?Gt/2:Gt}it.layout[v[G]]+=wt+Vt,ht&&D(k,it,G)}wt+=It,St=q(St,_t),kt+=1,mt=bt}if(kt>1&&ht){var Qt=k.layout[g[G]]-ct,$t=Qt-wt,Kt=0,Xt=st,Yt=function(t){return t.style.alignContent?t.style.alignContent:"flex-start"}(k);Yt===d?Xt+=$t:Yt===s?Xt+=$t/2:Yt===c&&Qt>wt&&(Kt=$t/kt);var Zt=0;for(rt=0;rt<kt;++rt){var te=Zt,ee=0;for(nt=te;nt<$;++nt)if(B(it=k.children[nt])===f){if(it.lineIndex!==rt)break;m(it.layout[g[G]])||(ee=q(ee,it.layout[g[G]]+j(it,G)))}for(Zt=nt,ee+=Kt,nt=te;nt<Zt;++nt)if(B(it=k.children[nt])===f){var re=O(k,it);if(re===u)it.layout[v[G]]=Xt+x(it,G);else if(re===d)it.layout[v[G]]=Xt+ee-w(it,G)-it.layout[g[G]];else if(re===s){var ne=it.layout[g[G]];it.layout[v[G]]=Xt+(ee-ne)/2}else re===c&&(it.layout[v[G]]=Xt+x(it,G))}Xt+=ee}}var ie=!1,oe=!1;if(ft||(k.layout[g[V]]=q(A(k,V,St+L(k,V)),dt),V!==n&&V!==o||(ie=!0)),ht||(k.layout[g[G]]=q(A(k,G,wt+ct),ct),G!==n&&G!==o||(oe=!0)),ie||oe)for(rt=0;rt<$;++rt)it=k.children[rt],ie&&D(k,it,V),oe&&D(k,it,G);for(vt=pt;null!==vt;){for(nt=0;nt<2;nt++)ot=0!==nt?r:i,!m(k.layout[g[ot]])&&!R(vt,ot)&&_(vt,y[ot])&&_(vt,p[ot])&&(vt.layout[g[ot]]=q(A(vt,ot,k.layout[g[ot]]-T(k,ot)-j(vt,ot)-I(vt,y[ot])-I(vt,p[ot])),C(vt,ot))),_(vt,p[ot])&&!_(vt,y[ot])&&(vt.layout[y[ot]]=k.layout[g[ot]]-vt.layout[g[ot]]-I(vt,p[ot]));it=vt,vt=vt.nextAbsoluteChild,it.nextAbsoluteChild=null}}function z(t,e,r){t.shouldUpdate=!0;var n=t.style.direction||"ltr";!t.isDirty&&t.lastLayout&&t.lastLayout.requestedHeight===t.layout.height&&t.lastLayout.requestedWidth===t.layout.width&&t.lastLayout.parentMaxWidth===e&&t.lastLayout.direction===n?(t.layout.width=t.lastLayout.width,t.layout.height=t.lastLayout.height,t.layout.top=t.lastLayout.top,t.layout.left=t.lastLayout.left):(t.lastLayout||(t.lastLayout={}),t.lastLayout.requestedWidth=t.layout.width,t.lastLayout.requestedHeight=t.layout.height,t.lastLayout.parentMaxWidth=e,t.lastLayout.direction=n,t.children.forEach((function(t){t.layout.width=void 0,t.layout.height=void 0,t.layout.top=0,t.layout.left=0})),F(t,e,r),t.lastLayout.width=t.layout.width,t.lastLayout.height=t.layout.height,t.lastLayout.top=t.layout.top,t.lastLayout.left=t.layout.left)}return{layoutNodeImpl:F,computeLayout:z,fillNodes:function t(e){return e.layout&&!e.isDirty||(e.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),e.style||(e.style={}),e.children||(e.children=[]),e.children.forEach(t),e}}}();e.default=function(t){n.fillNodes(t),n.computeLayout(t)}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.textStyles=["color","fontSize","textAlign","fontWeight","lineHeight","lineBreak"],e.scalableStyles=["left","top","right","bottom","width","height","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","borderWidth","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],e.layoutAffectedStyles=["margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","width","height"],e.getDefaultStyle=function(){return{left:void 0,top:void 0,right:void 0,bottom:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,margin:void 0,marginLeft:void 0,marginRight:void 0,marginTop:void 0,marginBottom:void 0,padding:void 0,paddingLeft:void 0,paddingRight:void 0,paddingTop:void 0,paddingBottom:void 0,borderWidth:void 0,flexDirection:void 0,justifyContent:void 0,alignItems:void 0,alignSelf:void 0,flex:void 0,flexWrap:void 0,position:void 0,hidden:!1,scale:1}}}]).default},5393:function(u,s,d){d(5230).window,function(t,e){u.exports=e()}(0,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===l(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){var n=r(1),i=r(2).Widget,l=r(5).Draw;Component({properties:{width:{type:Number,value:400},height:{type:Number,value:300}},lifetimes:{attached:function(){var t=this,e=wx.getSystemInfoSync().pixelRatio,r=this.createSelectorQuery();this.dpr=e,r.select("#canvas").fields({node:!0,size:!0}).exec((function(r){var n=r[0].node,i=n.getContext("2d");n.width=r[0].width*e,n.height=r[0].height*e,i.scale(e,e),t.ctx=i,t.canvas=n}))}},methods:{renderToCanvas:function(t){var e=this;return a(o().mark((function r(){var a,u,s,d,c,f,h,y,p;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t.wxml,u=t.style,s=e.ctx,d=e.canvas,s&&d){r.next=3;break}return r.abrupt("return",Promise.reject(new Error("renderToCanvas: fail canvas has not been created")));case 3:return s.clearRect(0,0,e.data.width,e.data.height),c=n(a),f=c.root,h=new i(f,u),y=h.init(),e.boundary={top:y.layoutBox.top,left:y.layoutBox.left,width:y.computedStyle.width,height:y.computedStyle.height},p=new l(d,s),r.next=9,p.drawNode(y);case 9:return r.abrupt("return",Promise.resolve(y));case 10:case"end":return r.stop()}}),r)})))()},canvasToTempFilePath:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(r,n){var i=t.boundary,o=i.top,a=i.left,l=i.width,u=i.height;wx.canvasToTempFilePath({x:a,y:o,width:l,height:u,destWidth:l*t.dpr,destHeight:u*t.dpr,canvas:t.canvas,fileType:e.fileType||"png",quality:e.quality||1,success:r,fail:n})}))}}})},function(t,e){t.exports=function(t){return t=(t=t.trim()).replace(/<!--[\s\S]*?-->/g,""),{declaration:e(),root:r()};function e(){if(o(/^<\?xml\s*/)){for(var t={attributes:{}};!a()&&!l("?>");){var e=n();if(!e)return t;t.attributes[e.name]=e.value}return o(/\?>\s*/),t}}function r(){var t=o(/^<([\w-:.]+)\s*/);if(t){for(var e,i={name:t[1],attributes:{},children:[]};!(a()||l(">")||l("?>")||l("/>"));){var u=n();if(!u)return i;i.attributes[u.name]=u.value}if(o(/^\s*\/>\s*/))return i;for(o(/\??>\s*/),i.content=function(){var t=o(/^([^<]*)/);return t?t[1]:""}();e=r();)i.children.push(e);return o(/^<\/[\w-:.]+>\s*/),i}}function n(){var t=o(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(t)return{name:t[1],value:i(t[2])}}function i(t){return t.replace(/^['"]|['"]$/g,"")}function o(e){var r=t.match(e);if(r)return t=t.slice(r[0].length),r}function a(){return 0==t.length}function l(e){return 0==t.indexOf(e)}}},function(t,o,a){var l=a(3),u=a(4).splitLineToCamelCase,s=function(t){n(a,t);var o=i(a);function a(t){var e;return r(this,a),(e=o.call(this,t.style)).name=t.name,e.attributes=t.attributes,e}return e(a)}(l),d=function(){function t(e,n){r(this,t),this.xom=e,this.style=n,this.inheritProps=["fontSize","lineHeight","textAlign","verticalAlign","color"]}return e(t,[{key:"init",value:function(){return this.container=this.create(this.xom),this.container.layout(),this.inheritStyle(this.container),this.container}},{key:"inheritStyle",value:function(t){var e=this,r=t.parent||null,n=t.children||{},i=t.computedStyle;r&&this.inheritProps.forEach((function(t){i[t]=i[t]||r.computedStyle[t]})),Object.values(n).forEach((function(t){e.inheritStyle(t)}))}},{key:"create",value:function(t){var e=this,r=(t.attributes.class||"").split(" ");r=r.map((function(t){return u(t.trim())}));var n={};r.forEach((function(t){Object.assign(n,e.style[t]||{})}));for(var i={name:t.name,style:n},o={},a=0,l=Object.keys(t.attributes);a<l.length;a++){var d=l[a],c=t.attributes[d];o[u(d)]=""===c||"true"===c||"false"!==c&&c}o.text=t.content,i.attributes=o;var f=new s(i);return t.children.forEach((function(t){var r=e.create(t);f.add(r)})),f}}]),t}();t.exports={Widget:d}},function(t,e){t.exports=d(5016)},function(t,e){t.exports={hex:function(t){var e=null;return!/^#/.test(t)||7!==t.length&&9!==t.length?null!==(e=/^(rgb|rgba)\((.+)\)/.exec(t))?"#"+e[2].split(",").map((function(t,e){return t=t.trim(),1===(t=(t=3===e?Math.floor(255*parseFloat(t)):parseInt(t,10)).toString(16)).length&&(t="0"+t),t})).join(""):"#00000000":t},splitLineToCamelCase:function(t){return t.split("-").map((function(t,e){return 0===e?t:t[0].toUpperCase()+t.slice(1)})).join("")}}},function(n,i){var l=function(){function n(t,e){r(this,n),this.canvas=t,this.ctx=e}var i,l;return e(n,[{key:"roundRect",value:function(t,e,r,n,i){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!(i<0)){var l=this.ctx;l.beginPath(),l.arc(t+i,e+i,i,Math.PI,3*Math.PI/2),l.arc(t+r-i,e+i,i,3*Math.PI/2,0),l.arc(t+r-i,e+n-i,i,0,Math.PI/2),l.arc(t+i,e+n-i,i,Math.PI/2,Math.PI),l.lineTo(t,e+i),a&&l.stroke(),o&&l.fill()}}},{key:"drawView",value:function(t,e){var r=this.ctx,n=t.left,i=t.top,o=t.width,a=t.height,l=e.borderRadius,u=void 0===l?0:l,s=e.borderWidth,d=void 0===s?0:s,c=e.borderColor,f=e.color,h=void 0===f?"#000":f,y=e.backgroundColor,p=void 0===y?"transparent":y;r.save(),d>0&&(r.fillStyle=c||h,this.roundRect(n,i,o,a,u)),r.fillStyle=p;var v=o-2*d,g=a-2*d,m=u-d>=0?u-d:0;this.roundRect(n+d,i+d,v,g,m),r.restore()}},{key:"drawImage",value:(l=a(o().mark((function t(e,r,n){var i=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,o){var a=i.ctx,l=i.canvas,u=n.borderRadius,s=void 0===u?0:u,d=r.left,c=r.top,f=r.width,h=r.height;a.save(),i.roundRect(d,c,f,h,s,!1,!1),a.clip();var y=l.createImage();y.onload=function(){a.drawImage(y,d,c,f,h),a.restore(),t()},y.onerror=function(){o()},y.src=e}));case 2:case"end":return t.stop()}}),t)}))),function(t,e,r){return l.apply(this,arguments)})},{key:"drawText",value:function(e,r,n){var i=this.ctx,o=r.left,a=r.top,l=r.width,u=r.height,s=n.color,d=void 0===s?"#000":s,c=n.lineHeight,f=void 0===c?"1.4em":c,h=n.fontSize,y=void 0===h?14:h,p=n.textAlign,v=void 0===p?"left":p,g=n.verticalAlign,m=void 0===g?"top":g,b=n.backgroundColor,x=void 0===b?"transparent":b;if(e&&!(f>u)){switch(i.save(),f&&(f=Math.ceil(parseFloat(f.replace("em"))*y)),i.textBaseline="top",i.font="".concat(y,"px sans-serif"),i.textAlign=v,i.fillStyle=x,this.roundRect(o,a,l,u,0),i.fillStyle=d,v){case"left":break;case"center":o+=.5*l;break;case"right":o+=l}var w=i.measureText(e).width,S=Math.ceil(w/l)*f,k=Math.ceil((u-S)/2);switch(k<0&&(k=0),m){case"top":break;case"middle":a+=k;break;case"bottom":a+=2*k}var W=Math.ceil((f-y)/2);if(w<=l)i.fillText(e,o,a+W);else{var L,T=e.split(""),j=a,C="",O=t(T);try{for(O.s();!(L=O.n()).done;){var P=L.value,B=C+P;if(i.measureText(B).width>l){if(i.fillText(C,o,a+W),C=P,(a+=f)+f>j+u)break}else C=B}}catch(t){O.e(t)}finally{O.f()}a+f<=j+u&&i.fillText(C,o,a+W),i.restore()}}}},{key:"drawNode",value:(i=a(o().mark((function t(e){var r,n,i,a,l,u,s,d,c,f;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.layoutBox,n=e.computedStyle,i=e.name,a=e.attributes,l=a.src,u=a.text,"view"!==i){t.next=5;break}this.drawView(r,n),t.next=11;break;case 5:if("image"!==i){t.next=10;break}return t.next=8,this.drawImage(l,r,n);case 8:t.next=11;break;case 10:"text"===i&&this.drawText(u,r,n);case 11:s=Object.values(e.children),d=0,c=s;case 13:if(!(d<c.length)){t.next=20;break}return f=c[d],t.next=17,this.drawNode(f);case 17:d++,t.next=13;break;case 20:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})}]),n}();n.exports={Draw:l}}])}))}},function(t){t.O(0,[107,216],(function(){return e=5393,t(t.s=e);var e})),t.O()}]);