var e=require("@babel/runtime/helpers/objectSpread2");require("@babel/runtime/helpers/Objectentries"),require("@babel/runtime/helpers/Arrayincludes");var t=require("@babel/runtime/helpers/get"),n=require("@babel/runtime/helpers/getPrototypeOf"),r=require("@babel/runtime/helpers/inherits"),i=require("@babel/runtime/helpers/createSuper"),o=require("@babel/runtime/helpers/typeof"),s=require("@babel/runtime/helpers/defineProperty"),a=require("@babel/runtime/helpers/toConsumableArray"),u=require("@babel/runtime/helpers/slicedToArray"),c=require("@babel/runtime/helpers/classCallCheck"),f=require("@babel/runtime/helpers/createClass");(wx.webpackJsonp=wx.webpackJsonp||[]).push([[216],{2343:function(e,h,l){l.d(h,{Z:function(){return je}});var p=l(5230).document;function d(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var v,y=void 0,g={cn:"https://mcs.volceapplog.com",va:"https://mcs.itobsnssdk.com",sg:"https://mcs.tobsnssdk.com"},m={appOnShow:"app_launch",appOnHide:"app_terminate",appOnError:"on_error",pageOnShow:"predefine_pageview",pageOnHide:"predefine_pageview_hide",pageOnShareAppMessage:"on_share",pageOnAddToFavorites:"on_addtofavorites",pageOnTabItemTap:"on_tabbartap",mpClick:"bav2b_click"},_=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],b=["__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append"],k=function(){return+new Date},w=function(){function e(t){c(this,e),this.sdk=t,this.env=this.init()}return f(e,[{key:"init",value:function(){return{user:{web_id:y,user_unique_id:y,user_id:y,user_type:y,user_is_auth:y,user_is_login:y,ip_addr_id:y,device_id:y,user_unique_id_type:y,anonymous_id:y},header:{app_id:y,app_name:y,app_install_id:y,install_id:y,app_package:y,app_channel:y,app_version:y,os_name:y,os_version:y,device_model:y,device_brand:y,traffic_type:y,client_ip:y,os_api:y,access:y,language:y,app_language:y,creative_id:y,ad_id:y,campaign_id:y,ab_client:y,ab_version:y,platform:y,sdk_version:y,sdk_lib:y,app_region:y,region:y,province:y,city:y,timezone:y,tz_offset:y,tz_name:y,sim_region:y,carrier:y,resolution:y,screen_width:y,screen_height:y,browser:y,browser_version:y,referrer:y,referrer_host:y,utm_source:y,utm_medium:y,utm_campaign:y,utm_term:y,utm_content:y,custom:{},ab_sdk_version:y,_sdk_version:y,_sdk_name:y,wechat_openid:y,wechat_unionid:y,is_connected:y}}}},{key:"set",value:function(e){var t=this;this.sdk.emit(this.sdk.types.EnvTransform,e),Object.keys(e).forEach((function(n){if("evtParams"===n)t.evtParams=Object.assign(Object.assign({},t.evtParams||{}),e.evtParams||{});else if("_staging_flag"===n)t.evtParams=Object.assign(Object.assign({},t.evtParams||{}),{_staging_flag:e._staging_flag});else{var r,i,o=n,s=e[n];if(null===s)return!1;var a="";o.indexOf(".")>-1&&(r=o.split("."),a=(i=u(r,2))[0],o=i[1]),"platform"===o&&(s="mp"),"os_version"!==o&&"mp_platform"!==o||(s="".concat(s)),a?("headers"===a&&(a="header"),"user"===a||"header"===a?t.env[a][o]=s:t.env.header.custom[o]=s):t.env.user.hasOwnProperty(o)?["user_type","ip_addr_id"].indexOf(o)>-1?t.env.user[o]=Number(s):["user_id","web_id","user_unique_id","anonymous_id"].indexOf(o)>-1?t.env.user[o]=String(s):["user_is_auth","user_is_login"].indexOf(o)>-1?t.env.user[o]=Boolean(s):t.env.user[o]=s:t.env.header.hasOwnProperty(o)?t.env.header[o]=s:t.env.header.custom[o]=s}}))}},{key:"get",value:function(e){return e&&"env"!==e?"evtParams"===e?Object.assign({},this[e]):this.env.hasOwnProperty(e)?this.clone(this.env[e]):this.env.user.hasOwnProperty(e)?this.clone(this.env.user[e]):this.env.header.hasOwnProperty(e)?this.clone(this.env.header[e]):this.env.header.custom.hasOwnProperty(e)?this.clone(this.env.header.custom[e]):void 0:this.clone(this.env)}},{key:"compose",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.env,r=n.user,i=n.header,o=this.evtParams,s=e.map((function(e){return e.event&&!t.includes(e.event)&&o&&Object.keys(o).forEach((function(t){void 0===e.params[t]&&(e.params[t]=o[t])})),e.params=JSON.stringify(e.params),e}));return this.clone({events:s,user:r,header:i})}},{key:"merge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.compose(e,t);return n.local_time=Math.floor(k()/1e3),[n]}},{key:"clone",value:function(e){return this.sdk.isObject(e)?JSON.parse(JSON.stringify(e)):e}}]),e}(),O=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},S=function(e){return"number"==typeof e&&!isNaN(e)},j=function(){function e(){c(this,e),this.domains=g,this.init()}return f(e,[{key:"init",value:function(){this.option={caller:"",log:!1,channel:"cn",report_channel:"cn",channel_domain:"",report_url:"",auto_report:!1,auto_profile:!1,profile_channel:"cn",enable_profile:!1,enable_ab_test:!1,ab_channel_domain:"",clear_ab_cache_on_user_change:!0,ab_timeout:0,enable_et_test:!1,event_verify_url:"",enable_buffer:!1,buffer_interval:5e3,buffer_number:5,enable_storage_only:!1,enable_cache:!1,enable_filter_list:!1,enable_third:!1,enable_filter_crawler:!1,request_timeout:0,enable_initiative_launch:!1,enable_custom_webid:!1,disable_sdk_monitor:!1,verify:null,enable_encrypt:!1,encrypt_type:"normal",encrypt_public_key:"",encrypt_header:"",enable_skip_launch:!1,enable_skip_network:!0,enable_retry_unready:!0,enable_trace:!1,request_webid_number:10,disable_check:!1,disable_verify:!1,enable_anonymousid:!1,enable_logsetting:!1,logsetting_request_timeout:5e3,logsetting_expires:216e5},this.cloneOption=Object.assign({},this.option),this.initDomain()}},{key:"initDomain",value:function(){if(this.option.channel_domain)this.domain=this.option.channel_domain;else{var e=this.option.report_channel;Object.keys(this.domains).includes(e)||(e="cn"),this.domain=this.domains[e]}}},{key:"set",value:function(e){var t=this;O(e)&&Object.keys(e).forEach((function(n){t.option.hasOwnProperty(n)&&("channel"===n||"report_channel"===n?(t.option.report_channel=t.option.channel=e[n]?e[n]:t.cloneOption[n],t.initDomain()):(t.option[n]=void 0===e[n]?t.cloneOption[n]:e[n],"channel_domain"===n&&t.initDomain()))}))}},{key:"get",value:function(e){return e?this.hasOwnProperty(e)?this[e]:this.option.hasOwnProperty(e)?this.option[e]:void 0:Object.assign({},this.option)}}]),e}(),P=function(){function e(){c(this,e),this.hooks={}}return f(e,[{key:"on",value:function(e,t){e&&t&&"function"==typeof t&&(this.hooks[e]||(this.hooks[e]=[]),this.hooks[e].push(t))}},{key:"once",value:function(e,t){var n=this;if(e&&t&&"function"==typeof t){this.on(e,(function r(i){t(i),n.off(e,r)}))}}},{key:"off",value:function(e,t){if(e&&this.hooks[e]&&this.hooks[e].length)if(t){var n=this.hooks[e].indexOf(t);-1!==n&&this.hooks[e].splice(n,1)}else this.hooks[e]=[]}},{key:"emit",value:function(e,t){e&&this.hooks[e]&&this.hooks[e].length&&a(this.hooks[e]).forEach((function(e){try{e(t)}catch(e){}}))}}]),e}(),E=function(){function e(t){c(this,e),this.ready=!1,this.sdk=t}return f(e,[{key:"setLog",value:function(e){e&&this.sdk.isFunction(e.log)&&(this._log=e)}},{key:"setRequest",value:function(e){if(this.sdk.isFunction(e)){var t=e(this.sdk);this.sdk.isFunction(t)&&(this._request=t)}}},{key:"setStorage",value:function(e){this.sdk.isObject(e)&&this.sdk.isFunction(e.get)&&this.sdk.isFunction(e.set)&&this.sdk.isFunction(e.remove)&&(this._storage=e)}},{key:"check",value:function(){this._request&&this._storage&&(this.ready=!0)}},{key:"log",value:function(){if(this._log)try{var e;this.sdk.option.get("log")&&(e=this._log).log.apply(e,arguments)}catch(e){}}},{key:"request",value:function(e){var t;if(!this.ready)return Promise.reject(null);try{return null===(t=this._request)||void 0===t?void 0:t.call(this,e)}catch(e){}}},{key:"get",value:function(e){return this.ready?this._storage.get(e):Promise.reject(null)}},{key:"set",value:function(e,t){return this.ready?this._storage.set(e,t):Promise.reject(!1)}},{key:"remove",value:function(e){return this.ready?this._storage.remove(e):Promise.reject(!1)}},{key:"storageInfo",value:function(){return this.ready?this._storage.info():Promise.reject(null)}}]),e}();!function(e){e.Init="$init",e.Config="$config",e.Send="$send",e.Ready="$ready",e.TokenComplete="$token-complete",e.TokenStorage="$token-storage",e.TokenFetch="$token-fetch",e.TokenGet="$token-get",e.LaunchComplete="$launch-complete",e.ConfigUuid="$config-uuid",e.ConfigWebId="$config-webid",e.ConfigTransform="$config-transform",e.UuidChangeBefore="$uuid-change-before",e.UuidChangeMiddle="$uuid-change-middle",e.UuidChangeAfter="$uuid-change-after",e.EnvTransform="$env-transform",e.Event="$event",e.Report="$report",e.AppOpen="$app-open",e.AppClose="$app-close",e.AppShowStart="$app-show-start",e.AppShow="$app-show",e.AppHide="$app-hide",e.AppError="$app-error",e.AppShare="$app-share",e.AppOnShare="$app-on-share",e.PageShow="$page-show",e.PageHide="$page-hide",e.PageShare="$page-share",e.SubmitBefore="$submit-before",e.SubmitAfter="$submit-after",e.SubmitError="$submit-error",e.FilterCrawler="$filter-crawler",e.LaunchInfo="$launch-info",e.Pause="$pause",e.CancelPause="$cancel-pause",e.AbVar="$ab-var",e.AbAllVars="$ab-all-vars",e.AbExternalVersion="$ab-external-version",e.AbVersionChangeOn="$ab-version-change-on",e.AbVersionChangeOff="$ab-version-change-off",e.AbRefresh="$ab-refresh",e.AbFetchAfter="$ab-fetch-After",e.ProfileSet="$profile-set",e.ProfileSetOnce="$profile-set-once",e.ProfileUnset="$profile-unset",e.ProfileIncrement="$profile-increment",e.ProfileAppend="$profile-append",e.ProfileClear="$profile-clear",e.ProfileSubmitAfter="$profile-submit-after",e.ProfileSubmitError="$profile-submit-error",e.TransformInfo="$transform-info",e.ExtendAppLaunch="$extend-app-launch",e.ExtendAppTerminate="$extend-app-terminate",e.ExtendAppError="$extend-app-error",e.ExtendPageShow="$extend-page-show",e.ExtendPageHide="$extend-page-hide",e.ExtendPageShare="$extend-page-share",e.ExtendPageFavorite="$extend-page-favorite",e.ExtendPageTabItemTap="$extend-page-tabitemtap",e.MpClick="$mp-click",e.Network="$network",e.CacheUnReady="$cache-unready",e.CacheBuffer="$cache-buffer",e.Verify="$verify",e.Check="$check",e.DataEncrypt="$data-encrypt",e.ReportSoon="$report-soon",e.SetAnonymousId="$set-anonymous-id",e.LogSetting="$logsetting"}(v||(v={}));var A,C,I,x=v,T=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))};!function(e){e[e.Event=1]="Event",e[e.Token=2]="Token",e[e.AB=3]="AB",e[e.Verify=4]="Verify",e[e.Profile=5]="Profile",e[e.Utm=6]="Utm",e[e.LogSetting=7]="LogSetting"}(A||(A={})),function(e){e[e.Normal=0]="Normal",e[e.Block=1]="Block",e[e.White=2]="White"}(C||(C={}));var q=function(){function e(){c(this,e),this.types=x,this.EventType=m,this.ProfileType=b,this.UtmType=_,this.SdkHook=x,this.Domains=g,this.inited=!1,this.sended=!1,this.pluginInstances=[],this.data={},this.unInitedCache=[],this.ready=!1,this.sessionId="",this.appShowStarted=!1,this.dataType={Event:A.Event,Token:A.Token,AB:A.AB,Verify:A.Verify,Profile:A.Profile,Utm:A.Utm,LogSetting:A.LogSetting},this.pause=!1,this.logsettings={data:null,isExpired:!1},this.env=new w(this),this.option=new j,this.hook=new P,this.sessionId=T(),e.instances.push(this);try{this.adapter=new E(this),this.adapter.setLog(e._log),this.adapter.setRequest(e._request),this.adapter.setStorage(e._storage),this.adapter.check(),e.plugins.reduce((function(e,t){var n=t.plugin;return e.push(new n),e}),this.pluginInstances)}catch(e){}}return f(e,[{key:"on",value:function(e,t){var n;null===(n=this.hook)||void 0===n||n.on(e,t)}},{key:"once",value:function(e,t){var n;null===(n=this.hook)||void 0===n||n.once(e,t)}},{key:"off",value:function(e,t){var n;!t&&this.types[e]||null===(n=this.hook)||void 0===n||n.off(e,t)}},{key:"emit",value:function(e,t){var n;this.adapter.log("emit ".concat(e),t||""),null===(n=this.hook)||void 0===n||n.emit(e,t)}},{key:"appId",get:function(){return this._appId}},{key:"checkUsePlugin",value:function(t){return!!e.plugins.find((function(e){return e.name===t}))}},{key:"init",value:function(e){var t=this;if(!this.inited&&this.isObject(e)){var n=e.app_id,r=e.log,i=d(e,["app_id","log"]);if(void 0!==r&&this.option.set({log:r}),S(n)&&n>0){this._appId=n,this.option.set(i),this.env.set({app_id:n}),Promise.all([new Promise((function(e){t.once(t.types.TokenComplete,(function(){e(!0)}))})),new Promise((function(n){e.enable_skip_launch?n(!0):t.checkUsePlugin("official:auto")?t.on(t.types.LaunchComplete,(function(){n(!0)})):n(!0)})),new Promise((function(e){t.sended?e(!0):t.once(t.types.Send,(function(){e(!0)}))})),new Promise((function(n){e.enable_logsetting?t.once(t.types.LogSetting,(function(){n(!0)})):n(!0)}))]).then((function(){t.ready=!0,t.emit(t.types.Ready)})),this.on(this.types.AppShowStart,(function(){t.appShowStarted?t.sessionId=T():t.appShowStarted=!0})),this.on(this.types.UuidChangeAfter,(function(){t.sessionId=T()}));var o=this.option.get();this.pluginInstances.forEach((function(e){e.apply(t,o)})),this.get("is-crawler")||(this.inited=!0,this.emit(this.types.Init),this.unInitedCache.length>0&&this.unInitedCache.forEach((function(e){t.emit(t.types.Event,e)})))}else this.adapter.log("app_id invalid")}}},{key:"config",value:function(e){var t=this;if(this.inited&&!this.pause&&this.isObject(e)){this.emit(this.types.Config,e);var n=e.web_id,r=e.user_unique_id,i=e.anonymous_id,o=d(e,["web_id","user_unique_id","anonymous_id"]);this.option.get("enable_anonymousid")?this.isUndefined(i)||this.setAnonymousId(i):void 0!==n&&this.emit(this.types.ConfigWebId,n),this.option.get("disable_check")||this.emit(this.types.Check,{type:"config",value:o});var s=function(){t.emit(t.types.ConfigTransform,o),t.env.set(o)};void 0!==r?(this.once(this.types.UuidChangeMiddle,s),this.emit(this.types.ConfigUuid,r)):s()}}},{key:"send",value:function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(this.types.Send))}},{key:"event",value:function(e,t){var n=this;if(!this.pause&&!this.get("is-crawler"))if(Array.isArray(e)){var r=k(),i=[];e.forEach((function(e){var t,o,s,a;Array.isArray(e)?(o=(t=u(e,3))[0],s=t[1],a=t[2]):n.isObject(e)&&(o=e.event,s=e.params,a=e.local_time_ms),o&&n.checkEvent(o)!==C.Block&&((!S(a)||a<0||a>r)&&(a=r),i.push(n.createEvent({event:o,params:s,time:a})))})),i.length>0&&(this.inited?this.emit(this.types.Event,i):this.unInitedCache.push(i))}else if(this.checkEvent(e)!==C.Block){var o=this.createEvent({event:e,params:t});this.inited?this.emit(this.types.Event,o):this.unInitedCache.push(o)}}},{key:"createEvent",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object.assign({event:e.event,params:e.params||{},local_time_ms:e.time||k()},this.sessionId?{session_id:this.sessionId}:{});if(this.option.get("disable_check")||this.emit(this.types.Check,{type:"event",value:n}),!t)return n;var r="",i=this.get("ab_sdk_version");i&&(r+=i);var o=this.get("ab_sdk_version_external");return o&&(r?r+=","+o:r=o),Object.assign(Object.assign({},n),r?{ab_sdk_version:r}:{})}},{key:"checkEvent",value:function(e){var t,n;if(this.option.get("enable_logsetting")){var r=null===(n=null===(t=this.logsettings)||void 0===t?void 0:t.data)||void 0===n?void 0:n.blocklist_events;if(!this.isUndefined(r)&&this.isArray(r)&&r.includes(e))return C.Block}return C.Normal}},{key:"isBlock",value:function(e){return this.checkEvent(e)===C.Block}},{key:"set",value:function(e,t){this.data[e]=t}},{key:"get",value:function(e){return this.data[e]}},{key:"getKey",value:function(e){var t=this.appId;if("ab_version"===e||"ab_version_external"===e)return"__tea_sdk_".concat(e,"_").concat(t);var n={token:"tokens",report:"reports",event:"events",utm:"utm",first:"first",compensate:"compensate",buffer:"buffer",logset:"logsetting"};return n[e]?"__tea_cache_".concat(n[e],"_").concat(t):void 0}},{key:"getUrl",value:function(e){var t=this.option,n=this.env,r=n.get("_sdk_version"),i=(n.get("_sdk_name")||"").replace(/@.+\//,""),o="".concat(t.get("domain")).concat(e,"?sdk_version=").concat(r,"&sdk_name=").concat(i),s=t.get("caller");return s?"".concat(o,"&app_id=").concat(this.appId,"&caller=").concat(s):o}},{key:"getToken",value:function(e){var t=this;if(!e)return new Promise((function(e){t.emit(t.types.TokenGet,{callback:function(t){e(t)}})}));this.emit(this.types.TokenGet,{callback:e})}},{key:"getConfig",value:function(e){return this.env.get(e||"header")}},{key:"stash",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="stash";this.set(n,[].concat(a(this.get(n)||[]),[this.createEvent({event:e,params:t})]))}},{key:"commit",value:function(){var e="stash",t=this.get(e)||[];t.length>0&&(this.event(t),this.set(e,[]))}},{key:"isObject",value:function(e){return O(e)}},{key:"isArray",value:function(e){return function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}(e)}},{key:"isNumber",value:function(e){return S(e)}},{key:"isString",value:function(e){return function(e){return"string"==typeof e}(e)}},{key:"isFunction",value:function(e){return function(e){return"function"==typeof e}(e)}},{key:"isUndefined",value:function(e){return void 0===e}},{key:"uuid",value:function(){return T()}},{key:"setUserUniqueID",value:function(e){this.config({user_unique_id:e})}},{key:"setHeaderInfo",value:function(e,t){this.config(s({},e,t))}},{key:"removeHeaderInfo",value:function(e){this.config(s({},e,void 0))}},{key:"setAnonymousId",value:function(e){this.isString(e)&&e&&this.emit(this.types.SetAnonymousId,e)}},{key:"request",value:function(e,t){var n,r=!!this.option.get("enable_encrypt");if([this.dataType.Utm,this.dataType.Verify].includes(t)||!r||!this.checkUsePlugin("official:encrypt"))return this.adapter.request(e);var i={data:e.data,url:e.url};this.emit(this.types.DataEncrypt,i);var o=Object.assign(Object.assign(Object.assign({},e),{url:i.url||e.url,data:i.data}),i.extRequestParams||{});return e.header&&(o.header=Object.assign(Object.assign({},(null===(n=i.extRequestParams)||void 0===n?void 0:n.header)||{}),e.header||{})),this.adapter.request(o)}},{key:"disableSDK",value:function(){this.pause=!0}},{key:"enableSDK",value:function(){this.pause=!1}}],[{key:"useAdapterLog",value:function(t){e._log=t}},{key:"useAdapterRequest",value:function(t){e._request=t}},{key:"useAdapterStorage",value:function(t){e._storage=t}},{key:"usePlugin",value:function(t,n){var r=n||t.pluginName;if(r){for(var i=!1,o=0,s=e.plugins.length;o<s;o++)if(e.plugins[o].name===r){e.plugins[o].plugin=t,i=!0;break}i||e.plugins.push({name:r,plugin:t})}else e.plugins.push({plugin:t});if("function"==typeof t.init)try{t.init(e)}catch(t){}}}]),e}();q.plugins=[],q.instances=[];var U=function(){function e(){c(this,e)}return f(e,[{key:"apply",value:function(e,t){e.env.set({sdk_version:"2.10.3",_sdk_version:"2.10.3",_sdk_name:"@datarangers/sdk-mp"})}}]),e}();U.pluginName="official:info",function(e){e.Default="default",e.Custom="custom"}(I||(I={}));var R=function(){function e(t,n){c(this,e),this.wrap=t,this.sdk=n,this.url="/webid/",this.retry=0,this.retryComplete=!1}return f(e,[{key:"storageNoData",value:function(){this.fetch()}},{key:"storageHasData",value:function(e){return this.wrap.dataComplete(e)}},{key:"fetch",value:function(){var e=this,t=this.sdk,n=t.adapter,r=t.appId;this.sdk.request({url:this.sdk.getUrl("".concat(this.url)),method:"POST",data:{app_id:r,url:"-",user_agent:"-",referer:"-",user_unique_id:""}},this.sdk.dataType.Token).then((function(t){try{var r=t.data,i=void 0===r?{}:r,o=i.e,s=void 0===o?-1e4:o,a=i.web_id,u=void 0===a?"":a;if(0===s)return void e.fetchComplete(u);if(!e.retryComplete)return void e.retryFetch();n.log("parse web_id error",s)}catch(t){if(!e.retryComplete)return void e.retryFetch();n.log("parse web_id error",t)}e.fetchComplete()})).catch((function(t){e.retryComplete?(e.fetchComplete(),n.log("fetch web_id error",t)):e.retryFetch()}))}},{key:"retryFetch",value:function(){var e=this;this.retry>=this.wrap.options.request_webid_number?this.retryComplete=!0:(this.retry++,setTimeout((function(){e.fetch()}),25))}},{key:"fetchComplete",value:function(e){e&&this.wrap.webIdComplete(e)}},{key:"storageComplete",value:function(e){if(e)try{if(e[this.wrap.typeKey]===I.Default){var t=this.storageHasData(e);this.wrap.complete(t)}else this.storageNoData()}catch(e){}else this.storageNoData()}}]),e}(),N=function(){function e(t,n){var r=this;c(this,e),this.wrap=t,this.sdk=n,this.sdk.on(this.sdk.types.ConfigWebId,(function(e){e="".concat(e),r.wrap.tokenComplete?r.waitComplete(e):r.waitResolve?r.waitResolve(e):r.tmpWebId=e}))}return f(e,[{key:"storageNoData",value:function(){this.wait()}},{key:"storageHasData",value:function(e){return this.wrap.dataComplete(e,this.tmpWebId)}},{key:"wait",value:function(){var e=this;new Promise((function(t){void 0!==e.tmpWebId?(t(e.tmpWebId),e.tmpWebId=void 0):e.waitResolve=t})).then((function(t){e.waitComplete(t)}))}},{key:"waitComplete",value:function(e){this.wrap.webIdComplete(e)}},{key:"storageComplete",value:function(e){if(e)try{if(e[this.wrap.typeKey]===I.Custom){var t=this.storageHasData(e);this.wrap.complete(t)}else this.storageNoData()}catch(e){}else this.storageNoData()}}]),e}(),$=function(){function e(t,n){var r=this;c(this,e),this.wrap=t,this.sdk=n,this.sdk.on(this.sdk.types.SetAnonymousId,(function(e){e="".concat(e),r.wrap.isCustom=!0,r.wrap.tokenComplete?r.wrap.anonymousIdComplete(e):r.tmpAnonymousId=e}))}return f(e,[{key:"storageNoData",value:function(){var e=this.tmpAnonymousId||this.sdk.uuid();this.wrap.anonymousIdComplete(e)}},{key:"storageHasData",value:function(e){return this.wrap.dataComplete(e,this.tmpAnonymousId)}},{key:"storageComplete",value:function(e){if(e)try{var t=this.storageHasData(e);this.wrap.complete(t)}catch(e){}else this.storageNoData()}}]),e}(),L=function(){function e(){c(this,e),this.tokenComplete=!1,this.tobid="",this.tobidUrl="/tobid/",this.tobidKey="",this.isCustom=!1,this.typeKey="_type_",this.enableAnonymous=!1}return f(e,[{key:"apply",value:function(e,t){var n=this;this.sdk=e,this.options=t,this.key=this.sdk.getKey("token"),this.tobidKey="diss".split("").reverse().join(""),this.enableAnonymous=!!this.options.enable_anonymousid,this.enableAnonymous?this.token=new $(this,this.sdk):this.options.enable_custom_webid?(this.isCustom=!0,this.token=new N(this,this.sdk)):(this.isCustom=!1,this.token=new R(this,this.sdk));var r=this.sdk.types;this.sdk.on(r.ConfigUuid,(function(e){n.setUserUniqueId(e)})),this.sdk.on(r.TokenGet,(function(e){var t=e.callback,i=function(){n.fetchTobid().then((function(){var e=n.sdk.env.get("user"),r=Object.assign(Object.assign({},e),{user_unique_id:n.userUniqueId});n.enableAnonymous?r.anonymous_id=n.anonymousId:r.web_id=n.webId,r[n.tobidKey]=n.tobid,"function"==typeof t&&t(r)}))};n.sdk.ready?i():n.sdk.once(r.Ready,(function(){i()}))})),this.storage()}},{key:"storage",value:function(){var e=this,t=this.sdk.adapter;t.get(this.key).then((function(n){if(e.sdk.isObject(n)){if(e.enableAnonymous){if(!n.anonymous_id)return void e.storageComplete(null)}else if(!n.web_id)return void e.storageComplete(null);n[e.typeKey]&&!n[e.tobidKey]&&n.user_unique_id||((n=e.enableAnonymous?{anonymous_id:n.anonymous_id,user_unique_id:n.user_unique_id||n.anonymous_id}:{web_id:n.web_id,user_unique_id:n.user_unique_id||n.web_id})[e.typeKey]=e.isCustom?I.Custom:I.Default,t.set(e.key,n).catch((function(){}))),e.storageComplete(n)}else e.storageComplete(null)})).catch((function(n){e.storageComplete(null),t.log("get token error",n)}))}},{key:"storageComplete",value:function(e){this.token.storageComplete(e)}},{key:"dataComplete",value:function(e,t){return this.enableAnonymous?this.dataCompleteWithAnonymousId(e,t):this.dataCompleteWithWebId(e,t)}},{key:"dataCompleteWithWebId",value:function(e,t){var n=e.web_id;void 0!==t&&t!==n&&(n=t),this.webId=n;var r=e.web_id===e.user_unique_id?n:e.user_unique_id;return void 0!==this.tmpUserUniqueId&&this.tmpUserUniqueId!==r&&(r=this.tmpUserUniqueId?this.tmpUserUniqueId:n,this.tmpUserUniqueId=void 0),this.userUniqueId=r,n!==e.web_id||r!==e.user_unique_id}},{key:"dataCompleteWithAnonymousId",value:function(e,t){var n=e.anonymous_id;void 0!==t&&t!==n&&(n=t),this.anonymousId=n;var r=e.anonymous_id===e.user_unique_id?n:e.user_unique_id;return void 0!==this.tmpUserUniqueId&&this.tmpUserUniqueId!==r&&(r=this.tmpUserUniqueId?this.tmpUserUniqueId:n,this.tmpUserUniqueId=void 0),this.userUniqueId=r,n!==e.anonymous_id||r!==e.user_unique_id}},{key:"webIdComplete",value:function(e){this.webId=e,this.tmpUserUniqueId?(this.userUniqueId=this.tmpUserUniqueId,this.tmpUserUniqueId=void 0):this.userUniqueId=e,this.complete(!0)}},{key:"anonymousIdComplete",value:function(e){this.anonymousId=e,this.tmpUserUniqueId?(this.userUniqueId=this.tmpUserUniqueId,this.tmpUserUniqueId=void 0):this.userUniqueId=e,this.complete(!0)}},{key:"complete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.sdk.types,n={user_unique_id:this.userUniqueId};this.enableAnonymous?n.anonymous_id=this.anonymousId:n.web_id=this.webId,this.sdk.env.set(n),n[this.typeKey]=this.isCustom?I.Custom:I.Default,e&&this.sdk.adapter.set(this.key,n).catch((function(){})),this.tokenComplete=!0,this.sdk.emit(t.TokenComplete)}},{key:"setUserUniqueId",value:function(e){var t=this.sdk,n=t.adapter,r=t.env,i=t.types;if(this.tokenComplete){if(this.userUniqueId===e)return void this.sdk.emit(i.UuidChangeMiddle);this.sdk.emit(i.UuidChangeBefore),this.sdk.emit(i.UuidChangeMiddle),this.enableAnonymous?this.userUniqueId=e||this.anonymousId:this.userUniqueId=e||this.webId,r.set({user_unique_id:this.userUniqueId});var o=s({user_unique_id:this.userUniqueId},this.typeKey,this.isCustom?I.Custom:I.Default);this.enableAnonymous?o.anonymous_id=this.anonymousId:o.web_id=this.webId,n.set(this.key,o).catch((function(){})),this.sdk.emit(i.UuidChangeAfter)}else this.sdk.emit(i.UuidChangeMiddle),this.tmpUserUniqueId=e}},{key:"fetchTobid",value:function(){var e=this,t=this.sdk,n=t.adapter,r={app_id:t.appId,user_unique_id:this.userUniqueId};return this.enableAnonymous?r.anonymous_id=this.anonymousId:r.web_id=this.webId,this.sdk.request({url:this.sdk.getUrl("".concat(this.tobidUrl)),method:"POST",data:r},this.sdk.dataType.Token).then((function(t){try{var n=t.data,r=void 0===n?{}:n,i=r.e,o=void 0===i?-1e4:i,s=r.tobid,a=void 0===s?"":s;if(0===o)return void(e.tobid=a)}catch(t){}})).catch((function(e){n.log("fetch tobid error",e)}))}}]),e}();L.pluginName="official:token";var D=function(){function e(){c(this,e),this.url="/list/",this.cache=[],this.pause=!1,this.eventName="request_status__"}return f(e,[{key:"apply",value:function(e,t){var n=this;this.sdk=e,this.options=t,this.key=this.sdk.getKey("report"),this.reportUrl=this.sdk.getUrl("".concat(this.url)),this.sdk.set("report_url",this.reportUrl);var r=this.sdk.types;this.sdk.on(r.Report,(function(e){Array.isArray(e)||(e=[e]),n.sdk.ready&&!n.pause?n.report(e):e.forEach((function(e){return n.cache.push(e)}))})),this.sdk.on(r.ReportSoon,(function(e){Array.isArray(e)||(e=[e]),n.report(e)})),this.sdk.on(r.Ready,(function(){n.reportCache()})),this.sdk.on(r.Pause,(function(){n.pause=!0})),this.sdk.on(r.CancelPause,(function(){n.pause=!1,n.reportCache()})),this.sdk.on(r.AppOpen,(function(){})),this.sdk.on(r.AppClose,(function(){n.cache.length>0&&(n.sdk.emit(r.CacheUnReady,a(n.cache)),n.cache.length=0)}))}},{key:"reportCache",value:function(){this.cache.length>0&&(this.report(a(this.cache)),this.cache.length=0)}},{key:"report",value:function(e){this.submit(e)}},{key:"submit",value:function(e){var t=this,n=this.sdk.types;this.sdk.emit(n.SubmitBefore,e),this.sdk.request({url:this.reportUrl,method:"POST",data:e},this.sdk.dataType.Event).then((function(r){t.sdk.emit(n.SubmitAfter,{isError:!1,response:r,event:e});try{if(t.checkMonitor(e))return;var i=r.data,o=r.statusCode;if(0!==i.e){var s=e.map((function(e){return null==e?void 0:e.events}));t.reportMonitor({status_code:o,response_data:JSON.stringify(i),event_info:JSON.stringify(s)})}}catch(e){}})).catch((function(r){t.sdk.emit(n.SubmitAfter,{isError:!0,error:r,event:e});try{if(t.checkMonitor(e))return;t.sdk.emit(n.SubmitError,{event:e})}catch(e){}}))}},{key:"reportMonitor",value:function(e){var t=this.sdk.createEvent({event:this.eventName,params:e}),n=this.sdk.env.merge([t]);this.submit(n)}},{key:"checkMonitor",value:function(e){return!!(e&&e[0]&&e[0].events[0]&&e[0].events[0].event===this.eventName)}}]),e}();D.pluginName="official:report";var V=function(){function e(){c(this,e),this.buffer=[],this.timer=0,this.unReadyCache=[],this.cacheBatchNumber=15}return f(e,[{key:"apply",value:function(e,t){var n,r,i=this;this.sdk=e,this.options=t,this.enable=!!this.options.enable_buffer,this.cacheEnable=!!this.options.enable_cache;var o=!0===this.options.enable_storage||!1===this.options.disable_storage;if(o&&(this.enable=!0),this.enable){this.interval=this.options.buffer_interval,this.number=this.options.buffer_number,o&&((null===(n=this.options)||void 0===n?void 0:n.report_interval)>0&&(this.interval=this.options.report_interval),(null===(r=this.options)||void 0===r?void 0:r.max_batch_event)>0&&(this.number=this.options.max_batch_event));try{this.interval=Number(this.interval),this.number=Number(this.number)}catch(e){}}var s=this.sdk.types;this.sdk.on(s.Event,(function(e){var t=Array.isArray(e)?e:[e];if(!i.sdk.ready)return i.unReadyCache=[].concat(a(i.unReadyCache),a(t)),void(i.cacheEnable&&i.unReadyCache.length>=i.cacheBatchNumber&&(i.sdk.emit(s.CacheUnReady,a(i.unReadyCache)),i.unReadyCache.length=0));i.process(t)})),this.sdk.on(s.Ready,(function(){if(i.unReadyCache.length>0){var e=i.unReadyCache.filter((function(e){return!i.sdk.isBlock(e.event)}));i.process(e),i.unReadyCache.length=0}})),this.sdk.on(s.Network,(function(e){!e.origin&&e.current&&(i.enable?i.refresh():i.buffer.length>0&&(i.report(a(i.buffer)),i.buffer.length=0))})),this.sdk.on(s.AppClose,(function(){if(i.timer&&(clearTimeout(i.timer),i.timer=0),i.sdk.ready)i.buffer.length>0&&(i.network()?i.report(a(i.buffer)):i.cacheEnable&&i.sdk.emit(s.CacheBuffer,a(i.buffer)),i.buffer.length=0);else if(i.cacheEnable&&i.unReadyCache.length>0){var e=i.unReadyCache.filter((function(e){return!i.sdk.isBlock(e.event)}));i.sdk.emit(s.CacheUnReady,a(e)),i.unReadyCache.length=0}}))}},{key:"process",value:function(e){var t=this.sdk.env.compose(e);this.network()?this.enable?(this.buffer=[].concat(a(this.buffer),[t]),this.refresh()):this.report(t):(this.buffer=[].concat(a(this.buffer),[t]),this.cacheEnable&&this.buffer.length>=this.cacheBatchNumber&&(this.sdk.emit(this.sdk.types.CacheBuffer,a(this.buffer)),this.buffer.length=0))}},{key:"refresh",value:function(){var e=this;this.buffer.length>=this.number?(this.timer&&(clearTimeout(this.timer),this.timer=0),this.report(a(this.buffer)),this.buffer.length=0):this.timer||(this.timer=setTimeout((function(){e.timer=0,e.buffer.length>0&&(e.report(a(e.buffer)),e.buffer.length=0)}),this.interval))}},{key:"report",value:function(e){this.sdk.emit(this.sdk.types.Report,e)}},{key:"network",value:function(){return!!this.options.enable_skip_network||!!this.sdk.env.get("is_connected")}}]),e}();V.pluginName="official:buffer";var F=function(){function e(){c(this,e)}return f(e,[{key:"apply",value:function(e,t){var n=this;this.sdk=e,this.options=t;var r=this.sdk,i=r.types,o=r.env,s=function(){try{var e=(new Date).getTimezoneOffset();return{timezone:Math.floor(Math.abs(e)/60),offset:60*e}}catch(e){return{timezone:8,offset:-28800}}}();o.set({timezone:s.timezone,tz_offset:s.offset}),this.sdk.on(i.ConfigTransform,(function(e){if(void 0!==e.user_unique_id_type&&(e.evtParams=Object.assign(Object.assign({},e.evtParams||{}),{$user_unique_id_type:e.user_unique_id_type})),void 0!==e.gender&&([1,2,"1","2"].includes(e.gender)?e.gender=e.gender<2?"male":"female":delete e.gender),n.options.enable_profile){var t={};["nick_name","gender","avatar_url"].forEach((function(n){void 0!==e[n]&&(t[n]=e[n],delete e[n])})),n.sdk.emit(i.ProfileSet,t)}})),this.sdk.on(i.EnvTransform,(function(e){if(n.options.enable_profile){var t={};["$mp_from_uuid"].forEach((function(n){void 0!==e[n]&&(t[n]=e[n],delete e[n])})),Object.keys(t).length>0&&n.sdk.emit(i.ProfileSetOnce,t)}}))}}]),e}();F.pluginName="official:transform";var K=function(){function e(){c(this,e),this.url="/profile/list",this.lastId=0,this.lastOnceId=0,this.duration=6e4,this.cache={},this.buffer=[]}return f(e,[{key:"apply",value:function(e,t){var n=this;this.sdk=e,this.options=t;var r=this.sdk.types;this.sdk.on(r.ProfileSet,(function(e){n.check()&&n.setProfile(e)})),this.sdk.on(r.ProfileSetOnce,(function(e){n.check()&&n.setOnceProfile(e)})),this.sdk.on(r.ProfileUnset,(function(e){n.check()&&n.unsetProfile(e)})),this.sdk.on(r.ProfileIncrement,(function(e){n.check()&&n.incrementProfile(e)})),this.sdk.on(r.ProfileAppend,(function(e){n.check()&&n.appendProfile(e)})),this.sdk.on(r.ProfileClear,(function(){n.cache={}})),this.sdk.on(r.Ready,(function(){n.buffer.length&&(n.reportMore(a(n.buffer)),n.buffer=[])}))}},{key:"check",value:function(){return!!this.options.enable_profile&&!this.sdk.pause}},{key:"setProfile",value:function(e){var t=this,n=this.debounce(e);if(n){this.putCache(n);var r=this.filter(n,(function(e){return t.sdk.isString(e)||t.sdk.isNumber(e)||t.sdk.isArray(e)}));this.report(this.sdk.createEvent({event:"__profile_set",params:r}))}}},{key:"setOnceProfile",value:function(e){var t=this,n=this.debounce(e,!0);if(n){this.putCache(n);var r=this.filter(n,(function(e){return t.sdk.isString(e)||t.sdk.isNumber(e)||t.sdk.isArray(e)}));this.report(this.sdk.createEvent({event:"__profile_set_once",params:r}))}}},{key:"incrementProfile",value:function(e){var t=this;if(e){var n=this.filter(e,(function(e){return t.sdk.isNumber(e)}));this.report(this.sdk.createEvent({event:"__profile_increment",params:n}))}}},{key:"unsetProfile",value:function(e){if(e&&this.sdk.isString(e)){var t={};t[e]="1",this.report(this.sdk.createEvent({event:"__profile_unset",params:t}))}}},{key:"appendProfile",value:function(e){var t=this;if(e&&this.sdk.isObject(e)&&!this.isEmpty(e)){var n=this.filter(e,(function(e){return t.sdk.isString(e)||t.sdk.isArray(e)}));this.report(this.sdk.createEvent({event:"__profile_append",params:n}))}}},{key:"reportMore",value:function(e){var t=this;if(this.sdk.ready){var n=this.sdk.env.merge(e,this.sdk.ProfileType),r=this.sdk,i=(r.adapter,r.option);this.sdk.request({url:"".concat(i.get("domain")).concat(this.url),method:"POST",data:n},this.sdk.dataType.Profile).then((function(e){t.sdk.emit(t.sdk.types.ProfileSubmitAfter,{isError:!0,response:e,event:n})})).catch((function(e){t.sdk.emit(t.sdk.types.ProfileSubmitError,{isError:!0,error:e,event:n})}))}else e.forEach((function(e){t.buffer.push(e)}))}},{key:"report",value:function(e){this.reportMore([e])}},{key:"ms",value:function(){return k()}},{key:"debounce",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&this.sdk.isObject(e)&&!this.isEmpty(e)){var r=Object.keys(e),i=this.ms(),o=r.filter((function(r){var o=t.cache[r];return!o||!(n||t.compare(o.val,e[r])&&i-o.timestamp<t.duration)})).reduce((function(t,n){return t[n]=e[n],t}),{});return(r=Object.keys(o)).length?o:void 0}}},{key:"putCache",value:function(e){var t=this,n=this.ms();Object.keys(e).forEach((function(r){t.cache[r]={val:t.clone(e[r]),timestamp:n}}))}},{key:"clone",value:function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}},{key:"compare",value:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}},{key:"filter",value:function(e,t){return Object.keys(e).reduce((function(n,r){var i=e[r];return t(i)&&(n[r]=i),n}),{})}},{key:"isEmpty",value:function(e){return!Object.keys(e).length}}],[{key:"init",value:function(e){e.prototype.profileSet=function(e){this.emit(this.types.ProfileSet,e)},e.prototype.profileSetOnce=function(e){this.emit(this.types.ProfileSetOnce,e)},e.prototype.profileUnset=function(e){this.emit(this.types.ProfileUnset,e)},e.prototype.profileIncrement=function(e){this.emit(this.types.ProfileIncrement,e)},e.prototype.profileAppend=function(e){this.emit(this.types.ProfileAppend,e)}}}]),e}();K.pluginName="official:profile";var z=function(){function e(){c(this,e),this.url="/service/2/log_settings",this.key="logset"}return f(e,[{key:"apply",value:function(e,t){var n=this;this.sdk=e,this.options=t,this.options.enable_logsetting&&(this.expire=this.options.logsetting_expires||216e5,this.timeout=this.options.logsetting_request_timeout||5e3,this.storageGet().then((function(e){if(n.sdk.isObject(e)&&e.data&&e.timestamp+n.expire>k())return n.setting(e.data,!0),void n.notice(!0);n.notice()})).catch((function(){n.notice()})))}},{key:"setting",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=null===(t=(this.sdk.logsettings=Object.assign(Object.assign({},this.sdk.logsettings),{data:e,isExpired:n})).data)||void 0===t?void 0:t.request_timeout;this.sdk.isUndefined(r)||(r=Number(r))>0&&this.sdk.option.set({request_timeout:r})}},{key:"notice",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.sdk.types;t?this.sdk.emit(n.LogSetting):this.fetch().then((function(t){e.setting(t),t&&e.storageSet(t),e.sdk.emit(n.LogSetting)})).catch((function(){e.sdk.emit(n.LogSetting)}))}},{key:"fetch",value:function(){var e=this.sdk.option;return this.sdk.request({url:"".concat(e.get("domain")).concat(this.url),method:"POST",data:{magic_tag:"ss_app_log",header:{aid:this.sdk.appId,platform:"mp"}},timeout:this.timeout},this.sdk.dataType.LogSetting).then((function(e){var t;return null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.config}))}},{key:"storageGet",value:function(){var e=this.sdk.getKey(this.key);return this.sdk.adapter.get(e)}},{key:"storageSet",value:function(e){var t=this.sdk.getKey(this.key);this.sdk.adapter.set(t,{data:e,timestamp:k()})}}],[{key:"init",value:function(e){}}]),e}();z.pluginName="official:logsetting",q.usePlugin(L,"official:token"),q.usePlugin(U,"official:info"),q.usePlugin(D,"official:report"),q.usePlugin(V,"official:buffer"),q.usePlugin(F,"official:transform"),q.usePlugin(K),q.usePlugin(z);var M=console,Z="undefined",B=Z,H=function(){return B!==Z||(B=("undefined"==typeof dd?"undefined":o(dd))!==Z?{target:dd,config:null,customPlatform:"ddMiniProduct",mpPlatform:10,is:"dd"}:("undefined"==typeof tt?"undefined":o(tt))!==Z?{target:tt,config:("undefined"==typeof __ttConfig?"undefined":o(__ttConfig))!==Z?__ttConfig:null,customPlatform:"ttMiniProduct",mpPlatform:2,is:"tt"}:("undefined"==typeof ks?"undefined":o(ks))!==Z?{target:ks,config:null,customPlatform:"ksMiniProduct",mpPlatform:9,is:"ks"}:("undefined"==typeof my?"undefined":o(my))!==Z?{target:my,config:null,customPlatform:"aliMiniProduct",mpPlatform:1,is:"my"}:("undefined"==typeof swan?"undefined":o(swan))!==Z?{target:swan,config:null,customPlatform:"swanMiniProduct",mpPlatform:5,is:"swan"}:("undefined"==typeof qq?"undefined":o(qq))!==Z?{target:qq,config:("undefined"==typeof __qqConfig?"undefined":o(__qqConfig))!==Z?__qqConfig:null,customPlatform:"qqMiniProduct",mpPlatform:6,is:"qq"}:("undefined"==typeof wx?"undefined":o(wx))!==Z?{target:wx,config:("undefined"==typeof __wxConfig?"undefined":o(__wxConfig))!==Z?__wxConfig:null,customPlatform:"miniProduct",mpPlatform:0,is:"wx"}:("undefined"==typeof uni?"undefined":o(uni))!==Z?{target:uni,config:null,customPlatform:"uniMiniProduct",mpPlatform:7,is:"uni"}:("undefined"==typeof jd?"undefined":o(jd))!==Z?{target:jd,config:null,customPlatform:"jdMiniProduct",mpPlatform:8,is:"jd"}:{target:{},config:null,customPlatform:"",mpPlatform:-1,is:""}),B},W=H(),J="my"===W.is||"dd"===W.is?function(e){return function(t){var n=t.timeout||e.option.get("request_timeout"),r="number"==typeof n&&n>0;return new Promise((function(e,i){var o=("dd"===W.is?dd.httpRequest:my[my.request?"request":"httpRequest"])(Object.assign(Object.assign(Object.assign(Object.assign({},t),{headers:Object.assign({"content-type":"application/json; charset=utf-8"},t.header||{})}),"dd"===W.is?Object.assign({data:JSON.stringify(t.data)},n?{timeout:n}:{}):{}),{dataType:t.dataType||"json",success:function(t){e(t)},fail:function(e){i(e)}}));"my"===W.is&&r&&setTimeout((function(){try{o&&o.abort()}catch(e){}}),n)}))}}:W.target?function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return function(r){var i=r.timeout||n.option.get("request_timeout"),o="number"==typeof i&&i>0;return new Promise((function(n,s){var a=e.request(Object.assign(Object.assign(Object.assign({},r),o&&!t?{timeout:i}:{}),{dataType:r.dataType||"json",success:function(e){n(e)},fail:function(e){s(e)}}));o&&t&&setTimeout((function(){try{a&&a.abort()}catch(e){}}),i)}))}}}(W.target,"swan"===W.is):function(e){return function(e){return Promise.reject("request adapter error")}},G=H(),Q=G.target?new(function(){function e(t){c(this,e),this.target=t}return f(e,[{key:"get",value:function(e){var t=this;return new Promise((function(n,r){try{t.target.getStorage({key:e,success:function(e){n(null==e?void 0:e.data)},fail:function(e){r(e)}})}catch(e){r(e)}}))}},{key:"set",value:function(e,t){var n=this;return new Promise((function(r,i){try{n.target.setStorage({key:e,data:t,success:function(){r(!0)},fail:function(){i(!1)}})}catch(e){i(!1)}}))}},{key:"remove",value:function(e){var t=this;return new Promise((function(n,r){try{t.target.removeStorage({key:e,success:function(){n(!0)},fail:function(){r(!1)}})}catch(e){r(!1)}}))}},{key:"info",value:function(){var e=this;return new Promise((function(t,n){try{e.target.getStorageInfo({success:function(e){t(e)},fail:function(){n(null)}})}catch(t){n(null)}}))}}]),e}())(G.target):function(){var e="storage adapter error";return{get:function(t){return Promise.reject(e)},set:function(t,n){return Promise.reject(e)},remove:function(t){return Promise.reject(e)},info:function(){return Promise.reject(e)}}}(),Y=function(){function e(){c(this,e),this.timer=0}return f(e,[{key:"apply",value:function(e,t){var n=this;this.sdk=e,this.options=t,this.boost();var r=this.sdk.types;this.getInfo(),this.sdk.on(r.AppOpen,(function(){n.getInfo(!0),n.onChange()}))}},{key:"boost",value:function(){}},{key:"getInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.sdk.target;t&&(this.system(t),this.network(t),!e&&this.info(t))}},{key:"system",value:function(e){var t=this,n=this.sdk.env;e.getSystemInfo&&e.getSystemInfo({success:function(e){var r=Math.ceil(e.screenWidth),i=Math.ceil(e.screenHeight),o={device_brand:e.brand,device_model:e.model,os_version:e.system,os_name:e.platform,platform:e.platform,resolution:"".concat(r,"x").concat(i),screen_width:r,screen_height:i};t.overlap(e,o),n.set(o)}})}},{key:"network",value:function(e){var t=this,n=this.sdk,r=n.env,i=n.types;e.getNetworkType&&e.getNetworkType({success:function(e){var n={access:e.networkType,is_connected:void 0!==e.networkAvailable?!!e.networkAvailable:"none"!==e.networkType};t.options.enable_skip_network||t.sdk.emit(i.Network,{origin:r.get("is_connected"),current:n.is_connected}),r.set(n)},fail:function(){t.timer>0||(t.timer=setTimeout((function(){t.network(e)}),50))}})}},{key:"info",value:function(e){try{if(e.getAccountInfoSync){var t=(e.getAccountInfoSync()||{}).miniProgram,n=t.appId,r=t.envVersion,i=t.version;this.sdk.env.set({app_version:i,miniprogram_appid:n,miniprogram_version:i,miniprogram_env_version:r})}else if(e.getEnvInfoSync){var o=(e.getEnvInfoSync()||{}).microapp,s=o.appId,a=o.envType,u=o.mpVersion;this.sdk.env.set({app_version:u,miniprogram_appid:s,miniprogram_version:u,miniprogram_env_version:a})}}catch(e){}}},{key:"onChange",value:function(){var e,t=this,n=this.sdk,r=n.target,i=n.env,o=n.types;null===(e=null==r?void 0:r.onNetworkStatusChange)||void 0===e||e.call(r,(function(e){t.options.enable_skip_network||t.sdk.emit(o.Network,{origin:i.get("is_connected"),current:null==e?void 0:e.isConnected}),i.set({access:null==e?void 0:e.networkType,is_connected:null==e?void 0:e.isConnected})}))}},{key:"overlap",value:function(e,t){t.language=e.language,t.mp_platform_app_version=e.version,t.mp_platform_basic_version=e.SDKVersion}}]),e}();Y.pluginName="official:device",q.useAdapterLog(M),q.useAdapterRequest(J),q.useAdapterStorage(Q),q.usePlugin(function(e){r(s,e);var o=i(s);function s(){return c(this,s),o.apply(this,arguments)}return f(s,[{key:"boost",value:function(){t(n(s.prototype),"boost",this).call(this),this.which=H(),this.sdk.target=this.which.target,this.sdk.targetEnvConfig=this.which.config,this.sdk.env.set({sdk_lib:"mp_common",custom_platform:this.which.customPlatform,mp_platform:this.which.mpPlatform})}},{key:"overlap",value:function(e,r){t(n(s.prototype),"overlap",this).call(this,e,r)}}],[{key:"init",value:function(e){var t=H();e.platform=t.is?t.target:null,e.platformIs=t.is}}]),s}(Y));var X=function(){function e(){c(this,e)}return f(e,[{key:"apply",value:function(e,t){}}],[{key:"init",value:function(e){e.prototype.autoInitializationRangers=function(e){var t=e.onTokenReady,n=d(e,["onTokenReady"]);return this.init(Object.assign(Object.assign({},n),{log:!1,enable_third:!0})),this.send(),this.getToken().then((function(e){var n=e.web_id;try{if("function"==typeof t)return void t("".concat(n))}catch(e){}return"".concat(n)}))}}}]),e}();X.pluginName="official:apm";var ee=function(){function e(){c(this,e)}return f(e,[{key:"apply",value:function(e,t){var n=this;if(this.sdk=e,this.options=t,!this.options.disable_check){var r=this.sdk.types;this.sdk.on(r.Check,(function(e){var t,r=e.type,i=e.value;if("event"===r){var o=i;if("applog_trace"===o.event)return;var s=0===(null===(t=o.event)||void 0===t?void 0:t.indexOf("__profile_"));s||n.check("name",o.event),n.sdk.isObject(o.params)&&Object.keys(o.params).forEach((function(e){n.check(s?"profile":"param",e,o.params[e])}))}else if("config"===r){var a=i;n.sdk.isObject(a)&&Object.keys(a).forEach((function(e){if("evtParams"===e){var t=a.evtParams;n.sdk.isObject(t)&&Object.keys(t).forEach((function(e){n.check("header",e,t[e])}))}else n.check("header",e,a[e])}))}}))}}},{key:"check",value:function(e,t,n){var r=function(e){return/^[a-zA-Z0-9][a-z0-9A-Z_ .-]{0,255}$/.test(e)};switch(e){case"name":r(String(t))||this.warn("event name ".concat(t," illegal"));break;case"param":case"header":case"profile":var i="param"===e?"event params":"header"===e?"config":"profile";"profile"!==t&&["$inactive","$inline","$target_uuid_list","$source_uuid","$is_spider","$source_id","$is_first_time"].includes(t)||r(String(t))||this.warn("".concat(i," name ").concat(t," illegal")),"string"!=typeof n||function(e){return String(e).length<=1024}(n)||this.warn("the value ".concat(n," length more than 1024 in ").concat(i," ").concat(t))}}},{key:"warn",value:function(e){var t,n;null===(n=null===(t=this.sdk.adapter._log)||void 0===t?void 0:t.warn)||void 0===n||n.call(t,e)}}]),e}();function te(e){for(var t=0,n=0,r=(e+="").length,i=0;i<r;i++)((t=31*t+e.charCodeAt(n++))>0x7fffffffffff||t<-0x800000000000)&&(t&=0xffffffffffff);return t<0&&(t+=0x7ffffffffffff),t}ee.pluginName="official:check";var ne=function(e){var t=e;try{t=decodeURIComponent(e)}catch(e){}return t},re=function(e){var t={};return e&&e.split("&").forEach((function(e){if(e){var n=e.split("=");n[0]&&(t[n[0]]=n[1]||"")}})),t};function ie(e){var t;return!!e.option.get("enable_custom_webid")||(null===(t=e.adapter._log)||void 0===t||t.warn("需要开启enable_custom_webid"),!1)}function oe(e,t){0!==e.indexOf(encodeURIComponent("https://"))&&0!==e.indexOf(encodeURIComponent("http://"))||(e=ne(e));var n=/([^?#]+)(\?[^#]*)?(#.*)?/.exec(e),r=n[1]||"",i=n[2]||"",o=n[3]||"",s=i?re(i.substring(1)):{};return s.Web_ID=t,e=r+function(e,t){var n="";if(t){var r=[];Object.keys(t).forEach((function(e){r.push("".concat(e,"=").concat(t[e]))})),r.length>0&&(n+="?".concat(r.join("&")))}return n}(0,s)+o}var se=function(){function e(){c(this,e)}return f(e,[{key:"apply",value:function(e,t){}}],[{key:"init",value:function(t){t.prototype.setWebId=function(e){if(null!=e&&ie(this)){var t=te("".concat(e));this.config({web_id:"".concat(t)})}},t.prototype.setWebIDviaUnionID=function(e){if(e&&ie(this)){var t=te(String(e).trim());this.config({web_id:"".concat(t),wechat_unionid:e})}},t.prototype.setWebIDviaOpenID=function(e){if(e&&ie(this)){var t=te(String(e).trim());this.config({web_id:"".concat(t),wechat_openid:e})}},t.prototype.createWebViewUrl=function(t){if(!t||!this.ready)return t;var n=this.env.get(e.key);return n?oe(t,n):t},t.prototype.createWebViewUrlAsync=function(t){var n=this;return t?this.ready?Promise.resolve(this.process(t,this.env.get(e.key))):new Promise((function(r){n.on(n.types.Ready,(function(){r(oe(t,n.env.get(e.key)))}))})):Promise.resolve(t)}}}]),e}();se.pluginName="official:webid",se.key="web_id";var ae=function(){function e(){c(this,e),this.scenes=[1129]}return f(e,[{key:"apply",value:function(e,t){var n=this;if(this.sdk=e,this.options=t,this.options.enable_filter_crawler){var r=this.sdk,i=r.target,o=r.types,s=function(e){n.scenes.includes(null==e?void 0:e.scene)&&n.sdk.set("is-crawler",!0)};try{if(i.getLaunchOptionsSync){var a=i.getLaunchOptionsSync();s(a)}}catch(e){}this.sdk.on(o.AppOpen,(function(e){s(e)}))}}}]),e}();ae.pluginName="official:robot";var ue=function(){function e(){c(this,e),this.key="start_rangers_data_check",this.buffer=[],this.test=!1,this.testRequestNumber=0,this.interval=1e3,this.needOn=!1,this.onHandler=function(){},this.status=!1}return f(e,[{key:"apply",value:function(e,t){var n=this;if(this.sdk=e,this.options=t,!this.options.disable_verify){var r=this.sdk.types;this.sdk.on(r.AppShowStart,(function(e){if(n.status=!0,n.syncId="",n.token="",!n.needOn)try{n.host=n.sdk.target;var t=e;if(!t&&n.host.getEnterOptionsSync&&(t=n.host.getEnterOptionsSync()),!t&&n.host.getLaunchOptionsSync&&(t=n.host.getLaunchOptionsSync()),t){var i=t.query;n.verify(i).then((function(){n.needOn=!0,n.onHandler=function(e){n.submit(e)},n.sdk.on(r.Event,n.onHandler)}))}}catch(e){}})),this.sdk.on(r.AppClose,(function(){n.status=!1,n.needOn&&(n.userInfo=null,n.sdk.off(r.Event,n.onHandler),n.onHandler=function(){},n.needOn=!1)}))}}},{key:"check",value:function(e){var t;return null!==(t=null==e?void 0:e[this.key])&&void 0!==t?t:""}},{key:"verify",value:function(e){var t,n=this,r=this.sdk.adapter,i=new Promise((function(e){t=e})),o=function(e){t(!0),n.userInfo=e||{nickName:"未知",avatarUrl:""},r.log("verify open ".concat(JSON.stringify(n.userInfo))),n.login()},s=this.check(e);r.log("verify ".concat(s));var a=this;if(s){try{var u=function(e){var t=function(e){return(t="logverify",t.split("").map((function(e){return e.charCodeAt(0)}))).reduce((function(e,t){return e^t}),e);var t};return function(e){return e.match(/.{1,2}/g).map((function(e){return parseInt(e,16)})).map(t).map((function(e){return String.fromCharCode(e)})).join("")}}()(s);u&&/^https?:\/\//.test(u)&&(this.domain=u),r.log("verify domain ".concat(u))}catch(e){}a.host.getSetting({success:function(e){r.log("getSetting success"),e.authSetting["scope.userInfo"]?(r.log("getSetting scope.userInfo success"),a.host.getUserInfo?a.host.getUserInfo({success:function(e){r.log("getUserInfo success");var t=e.userInfo,n=t.nickName,i=t.avatarUrl;o({nickName:n,avatarUrl:i})},fail:function(){r.log("getUserInfo fail"),o()}}):a.host.getOpenUserInfo&&a.host.getOpenUserInfo({success:function(e){r.log("getUserInfo success");try{var t=JSON.parse(e.response).response,n=t.nickName,i=t.avatar;o({nickName:n,avatarUrl:i})}catch(e){}},fail:function(){r.log("getUserInfo fail"),o()}})):(r.log("getSetting scope.userInfo fail"),o())},fail:function(){r.log("getSetting fail"),o()}})}return i}},{key:"submit",value:function(e){try{this.pushBuffer(JSON.parse(JSON.stringify(e)))}catch(e){}}},{key:"login",value:function(){var e=this;if(this.domain&&this.status){var t=this.prepareHeader().header;this.sdk.request({url:"".concat(this.domain,"/simulator/limited_mobile/try_link"),method:"POST",data:Object.assign(Object.assign({header:Object.assign(Object.assign({},t||{}),{aid:t.app_id})},this.userInfo?{nick_name:this.userInfo.nickName}:{}),{host_version:(t.custom||{}).mp_platform_app_version||"",sync_id:this.syncId||""})},this.sdk.dataType.Verify).then((function(t){try{var n=t.data.data,r=n.retry,i=n.sync_id,o=n.token;if(e.syncId=i,e.token=o,e.test&&e.testRequestNumber>3)return void e.report();0===r||(1===r?e.loginLoop():2===r&&e.report())}catch(t){e.loginLoop()}})).catch((function(t){e.loginLoop()}))}}},{key:"loginLoop",value:function(){var e=this;this.test&&this.testRequestNumber++,this.status&&setTimeout((function(){e.login()}),this.interval)}},{key:"report",value:function(){var e=this;if(this.domain&&this.status){var t=this.prepareHeader(),n=t.header,r=t.user,i=this.buffer;this.buffer=[],this.sdk.request({url:"".concat(this.domain,"/simulator/limited_mobile/log"),method:"POST",data:{header:Object.assign(Object.assign(Object.assign({},n||{}),r||{}),{aid:n.app_id}),token:this.token||"",event_v3:i||[]}},this.sdk.dataType.Verify).then((function(t){try{!0===t.data.data.keep?e.reportLoop():e.reset()}catch(t){e.reportLoop()}})).catch((function(){e.reportLoop()}))}}},{key:"reportLoop",value:function(){var e=this;this.status&&setTimeout((function(){e.report()}),this.interval)}},{key:"pushBuffer",value:function(e){var t=this;(Array.isArray(e)?a(e):[e]).forEach((function(e){if("string"==typeof e.params)try{e.params=JSON.parse(e.params)}catch(e){}t.buffer.push(e)}))}},{key:"prepareHeader",value:function(){var e=this.sdk.env.get(),t=e.user,n=e.header;return JSON.parse(JSON.stringify({user:t,header:n}))}},{key:"reset",value:function(){this.buffer=[],this.syncId="",this.token=""}}]),e}();ue.pluginName="official:verify";var ce={cn:"https://abtest.volceapplog.com",va:"https://toblog.itobsnssdk.com",sg:"https://toblog.tobsnssdk.com"};function fe(e,t,n){var r=this;if(!n)return new Promise((function(n){r.emit(r.types.AbVar,{name:e,defaultValue:t,callback:function(e){n(e)}})}));this.emit(this.types.AbVar,{name:e,defaultValue:t,callback:n})}function he(e){var t=this;if(!e)return new Promise((function(e){t.emit(t.types.AbAllVars,(function(t){e(t)}))}));this.emit(this.types.AbAllVars,e)}function le(e,t){var n=this;if(!t)return new Promise((function(t){n.emit(n.types.AbRefresh,{params:e,callback:function(e){t(e)}})}));this.emit(this.types.AbRefresh,{params:e,callback:t})}var pe,de=function(){function e(){c(this,e),this.expire=2592e6,this.domains=ce,this.url="/service/2/abtest_config/",this.message={cb:"回调函数必须为一个函数",var:"变量名不能为空",value:"变量没有默认值"},this.fetchStatus=0,this.callbacks=[],this.data=null,this.versions=[],this.externalVersions=null,this.hasOn=!1,this.onHandler=function(){},this.changeListener=[],this.exposureName="abtest_exposure",this.clear=!1,this.getCacheVersionStatus=!1,this.timeout=0,this.canab=!1}return f(e,[{key:"apply",value:function(e,t){var n=this;this.sdk=e,this.options=t;var r=this.sdk,i=r.adapter,o=r.types,s=r.appId;this.appId=s,this.externalKey=this.sdk.getKey("ab_version_external"),this.options.ab_timeout>0&&(this.timeout=this.options.ab_timeout),this.dataKey=this.sdk.getKey("ab_version"),this.clear=this.options.clear_ab_cache_on_user_change,this.domain=this.getDomain(),this.sdk.on(o.AbExternalVersion,(function(e){n.processExternal(e);var t=n.sdk.adapter;e?t.set(n.externalKey,e).catch((function(){})):t.remove(n.externalKey).catch((function(){}))})),i.get(this.externalKey).then((function(e){if(e)try{n.processExternal(e)}catch(e){}})).catch((function(){})),this.options.enable_ab_test&&(this.sdk.on(o.AbVar,(function(e){var t=e.name,r=e.defaultValue,i=e.callback;n.getVar(t,r,i)})),this.sdk.on(o.AbAllVars,(function(e){n.getAllVars(e)})),this.sdk.on(o.AbVersionChangeOn,(function(e){n.changeListener.push(e)})),this.sdk.on(o.AbVersionChangeOff,(function(e){var t=n.changeListener.indexOf(e);-1!==t&&n.changeListener.splice(t,1)})),this.sdk.on(o.AbRefresh,(function(e){var t=e.params,r=e.callback;n.canab&&n.preFetch(t,r)})),this.sdk.on(o.UuidChangeAfter,(function(){n.canab&&n.sdk.ready&&n.clear&&(n.versions=[],n.data={},n.updateVersions(),n.emitChange())})),this.options.enable_logsetting?this.sdk.on(o.Ready,(function(){var e,t,r,i,o=null===(t=null===(e=n.sdk.logsettings)||void 0===e?void 0:e.data)||void 0===t?void 0:t.bav_ab_config;if(n.sdk.isUndefined(o))n.__init__(!0);else if(o=!!o){var s=null===(i=null===(r=n.sdk.logsettings)||void 0===r?void 0:r.data)||void 0===i?void 0:i.bav_ab_refresh;n.sdk.isUndefined(s)||(n.clear=!!s),n.__init__(!0)}})):this.__init__())}},{key:"__init__",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.canab=!0;var n=this.sdk.types;t?(this.preFetch(),this.sdk.on(n.UuidChangeAfter,(function(){e.preFetch()}))):this.sdk.once(n.Ready,(function(){e.preFetch(),e.sdk.on(n.UuidChangeAfter,(function(){e.preFetch()}))})),this.getCacheVersion()}},{key:"getCacheVersion",value:function(){var e=this;return this.getCacheVersionStatus?Promise.resolve():this.sdk.adapter.get(this.dataKey).then((function(t){if(t){var n=t.timestamp;if(k()-n>=e.expire)return e.sdk.adapter.remove(e.dataKey).catch((function(){})),void(e.getCacheVersionStatus=!0);try{var r=t.ab_version,i=t.data;2!==e.fetchStatus&&(e.versions=r||[],e.data=i,e.configVersions())}catch(t){}e.getCacheVersionStatus=!0}else e.getCacheVersionStatus=!0})).catch((function(){e.getCacheVersionStatus=!0}))}},{key:"output",value:function(e){this.sdk.adapter.log(e)}},{key:"processExternal",value:function(e){this.externalVersions=e,this.sdk.set("ab_sdk_version_external",e)}},{key:"getAllVars",value:function(e){if("function"!=typeof e)return this.output(this.message.cb);var t={callback:e,type:1};2===this.fetchStatus?this._getAllVars(t):this.callbacks.push(t)}},{key:"getVar",value:function(e,t,n){if(!e)return this.output(this.message.var);if(void 0===t)return this.output(this.message.value);if("function"!=typeof n)return this.output(this.message.cb);var r={name:e,defaultValue:t,callback:function(e){try{n(e)}catch(e){}},type:0};2===this.fetchStatus?this._getVar(r):this.callbacks.push(r)}},{key:"fetchComplete",value:function(e){var t=this;if(e){this.data=e;var n=[];Object.keys(e).forEach((function(t){var r=e[t].vid;r&&n.push(r)}));var r=this.versions.length;r?(this.versions=this.versions.filter((function(e){return n.includes(e)})),this.versions.length!==r&&this.updateVersions()):this.updateVersions()}this.callbacks.forEach((function(e){return t[0===e.type?"_getVar":"_getAllVars"](e)})),this.callbacks=[]}},{key:"_getAllVars",value:function(e){(0,e.callback)(this.data?JSON.parse(JSON.stringify(this.data)):{})}},{key:"_getVar",value:function(e){var t=e.name,n=e.defaultValue,r=e.callback,i=this.data;if(i){if(this.sdk.isObject(i[t])){var o=i[t],s=o.vid,a=o.val;return s&&(this.versions.includes(s)||(this.versions.push(s),this.updateVersions(),this.emitChange()),this.sdk.emit(this.sdk.types.Event,Object.assign(Object.assign({},this.sdk.createEvent({event:this.exposureName},!1)),{ab_sdk_version:s}))),void r(a)}r(n)}else r(n)}},{key:"updateVersions",value:function(){this.configVersions(),this.sdk.adapter.set(this.dataKey,{data:this.data,ab_version:this.versions,timestamp:k()}).catch((function(){}))}},{key:"configVersions",value:function(){var e=this.versions.join(",");this.sdk.set("ab_sdk_version",e);var t="ab_versions";this.sdk.set(t,[].concat(a(this.sdk.get(t)||[]),[{time:k(),ab:e}]))}},{key:"emitChange",value:function(){var e=this.versions.join(",");this.changeListener.length>0&&this.changeListener.forEach((function(t){"function"==typeof t&&setTimeout((function(){try{t(e)}catch(e){}}),0)}))}},{key:"getDomain",value:function(){var e,t=this.options,n=t.channel_domain,r=t.ab_channel_domain,i=null===(e=this.sdk.option.get("cloneOption"))||void 0===e?void 0:e.report_channel,o="";if(r)o=r;else if(n)o=n;else{var s=this.options.report_channel;Object.keys(this.domains).includes(s)||(s=i),o=this.domains[s]}return o}},{key:"preFetch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(!this.domain)return this.fetchStatus=2,this.fetchComplete(null),void(n&&n(null));var r=this.sdk.env,i=r.get(),o=i.user,s=i.header,a=s.headers,u=d(s,["headers"]);this.user=Object.assign({},o);var c=function(){e.fetch(Object.assign(Object.assign(Object.assign(Object.assign({},u),a),t||{}),{ab_sdk_version:e.sdk.get("ab_sdk_version")||""})).then((function(e){return n&&n(e)}))};this.getCacheVersionStatus?c():this.getCacheVersion().then((function(){c()}))}},{key:"fetch",value:function(e){var t=this;this.fetchStatus=1;var n=this.user.user_unique_id;return this.sdk.request(Object.assign({url:"".concat(this.domain).concat(this.url),method:"POST",data:{header:Object.assign(Object.assign({aid:this.appId},this.user||{}),e||{})}},this.timeout>0?{timeout:this.timeout}:{}),this.sdk.dataType.AB).then((function(e){var r;if(t.user.user_unique_id!==n)return null;t.fetchStatus=2;var i=null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.data;return t.sdk.emit(t.sdk.types.AbFetchAfter,i),t.fetchComplete(i),i})).catch((function(){return t.fetchStatus=2,t.fetchComplete(null),null}))}}],[{key:"init",value:function(e){e.prototype.getVar=fe,e.prototype.getAllVars=he,e.prototype.getAbSdkVersion=function(){var e=this.get("ab_versions")||[];return e.length>0?e[e.length-1].ab:""},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(this.types.AbVersionChangeOn,e),function(){t.emit(t.types.AbVersionChangeOff,e)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(this.types.AbVersionChangeOff,e)},e.prototype.setExternalAbVersion=function(e){this.emit(this.types.AbExternalVersion,"string"==typeof e&&e?"".concat(e).trim():null)},e.prototype.getAbConfig=le}}]),e}();de.pluginName="official:ab",function(e){e[e.Undefined=0]="Undefined",e[e.Start=1]="Start",e[e.End=2]="End"}(pe||(pe={}));var ve=function(){function e(){c(this,e),this.key="utm",this.utmed=pe.Undefined,this.reload=!1}return f(e,[{key:"apply",value:function(e,t){var n=this;this.sdk=e,this.options=t;var r=this.sdk.types;this.sdk.on(r.LaunchInfo,(function(e){var t,r;n.utmed!==pe.Start&&(n.utmed===pe.End&&(n.reload=!0),n.utmed=pe.Start,n.parseDefault(null!==(t=null==e?void 0:e.query)&&void 0!==t?t:{}),n.parseMore(null!==(r=null==e?void 0:e.query)&&void 0!==r?r:{}))})),this.sdk.on(r.AppHide,(function(){n.utmed=pe.End}))}},{key:"parseDefault",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!1,r=Object.keys(t).reduce((function(r,i){return e.sdk.UtmType.includes(i)&&(n=!0,r[i]=ne(t[i])),r}),{});n&&this.sdk.env.set(r)}},{key:"parseMore",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t||{},r=n.tr_token,i=void 0===r?"":r,o=n.surl_token,s=void 0===o?"":o,a=n.scene,u=void 0===a?"":a,c=i||s;if(u){var f=re(ne("".concat(u)));f.tr_token&&(c=f.tr_token),this.sdk.set("scene_extra_query",f)}if(c){var h=function(){e.reload?e.sdk.emit(e.sdk.types.CancelPause):e.dispatch()};this.reload&&this.sdk.emit(this.sdk.types.Pause),this.storageGet(c).then((function(t){t?(e.sdk.env.set(t.utms||{}),h()):e.fetch(c).then((function(){return h()})).catch((function(){return h()}))})).catch((function(){e.fetch(c).then((function(){return h()})).catch((function(){return h()}))}))}else this.dispatch()}},{key:"storageGet",value:function(e){var t=this.sdk.getKey(this.key),n=this.sdk.adapter;return n.get(t).then((function(r){var i=k(),o=[];return Object.keys(r).forEach((function(e){r[e]&&r[e].timestamp+6048e5<i&&o.push(e)})),o.length>0&&(o.forEach((function(e){delete r[e]})),n.set(t,r).catch((function(){}))),r&&r[e]?r[e]:null}))}},{key:"storageSet",value:function(e,t){var n=this.sdk.getKey(this.key),r=this.sdk.adapter;r.get(n).then((function(i){i||(i={}),i[e]={utms:t,timestamp:k()},r.set(n,i).catch((function(){}))})).catch((function(){}))}},{key:"fetch",value:function(e){var t=this,n=this.sdk,r=n.adapter,i=n.option,o=n.env,s=n.UtmType;return this.sdk.request({url:"".concat(i.get("domain"),"/service/2/mp_campaigns"),method:"GET",data:{tr_token:e},timeout:3e3},this.sdk.dataType.Utm).then((function(n){var i=(n||{}).data,a=void 0===i?{}:i,u=a.code,c=void 0===u?-1:u,f=a.data,h=void 0===f?{}:f,l=a.message,p=void 0===l?"":l;if(0===c){if(t.sdk.isObject(h)){var d=!1,v=Object.keys(h).reduce((function(e,t){return s.includes(t)&&(d=!0,e[t]=h[t]),e}),{});d&&o.set(v),t.storageSet(e,v)}}else 40002===c&&t.storageSet(e,{});0!==c&&r.log(p||"")}))}},{key:"dispatch",value:function(){this.sdk.emit(this.sdk.types.LaunchComplete)}}]),e}();ve.pluginName="official:utm";var ye=function(){function e(){c(this,e)}return f(e,[{key:"apply",value:function(e,t){var n=this;this.sdk=e,this.options=t;var r=this.sdk.types;this.options.disable_sdk_monitor||this.options.channel_domain||this.sdk.on(r.Ready,(function(){n.reportLoad()}))}},{key:"reportLoad",value:function(){var e=this.sdk.env.get(),t=e.user,n=e.header,r=this.sdk.env.merge([{event:"onload",params:Object.assign(Object.assign(Object.assign({},t),n),this.options)}]);r[0].header.app_id=1338,this.report(r)}},{key:"report",value:function(e){if(!this.reportUrl){var t=this.sdk.get("report_url");if(!t)return;t+=(t.indexOf("?")?"&":"?")+"type=monitor",this.reportUrl=t}this.sdk.request({url:this.reportUrl,method:"POST",header:{"X-MCS-AppKey":"566f58151b0ed37e"},data:e},this.sdk.dataType.Event).catch((function(){}))}}]),e}();ye.pluginName="official:monitor";var ge,me,_e="mp_exit",be={mpLaunch:function(e,t){e("mp_launch",Object.assign({},t))},mpEnter:function(e,t){ge=+new Date,e("mp_enter",Object.assign({},t))},mpExit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=getCurrentPages(),r=n[n.length-1].route,i=void 0===ge?0:+new Date-ge;e(_e,Object.assign({duration:i,page_path:r},t)),ge=void 0},purchase:function(e,t){e("purchase",Object.assign({},t))},quest:function(e,t){e("query",Object.assign({},t))},updateLevel:function(e,t){e("update_level",Object.assign({},t))},createGameRole:function(e,t){e("create_gamerole",Object.assign({},t))},checkout:function(e,t){e("check_out",Object.assign({},t))},addToFavourite:function(e,t){e("add_to_favourite",Object.assign({},t))}},ke=function(){function e(){c(this,e)}return f(e,[{key:"apply",value:function(e,t){var n=this;this.sdk=e,this.options=t,Object.keys(be).forEach((function(e){n.sdk[e]=be[e].bind(null,n.sdk.event.bind(n.sdk))}))}}]),e}();ke.pluginName="official:extend",function(e){e.True="true",e.False="false"}(me||(me={}));var we=function(){function e(){c(this,e),this.queue=[],this.firstTime=me.False,this.open=!1,this.launched=!1,this.startup=0,this.autoConfig={appLaunch:!0,appTerminate:!0,appError:!0,pageShow:!0,pageHide:!0,pageShare:!0,pageFavorite:!0,pageTabItemTap:!0,click:!1},this.missAppLaunch=!1,this.missAppShow=!1,e.instances.push(this)}return f(e,[{key:"apply",value:function(e,t){var n=this;this.sdk=e,this.options=t,this.open=!!this.options.auto_report,this.open&&"object"==o(this.options.auto_report)&&(this.autoConfig=Object.assign(Object.assign({},this.autoConfig),this.options.auto_report||{})),this.proxySetTitle();var r=this.sdk,i=r.types,s=r.adapter,u=this.sdk.getKey("first");s.get(u).then((function(e){e!==me.False?(e||(n.firstTime=me.True),s.set(u,me.False).catch((function(){}))):n.firstTime=me.False})).catch((function(){})),this.sdk.on(i.Ready,(function(){n.queue.length>0&&(n.sdk.event(a(n.queue)),n.queue.length=0)})),this.sdk.on(i.AppOpen,(function(e){n.sdk.pause||n.appLaunch(e)})),this.missAppLaunch&&this.appLaunch(this.missAppLaunchInfo),this.sdk.on(i.AppShow,(function(e){n.sdk.pause||(n.appShowPrefix(e),n.open&&n.autoConfig.appLaunch&&n.appShow(e))})),this.missAppShow&&(this.appShowPrefix(this.missAppShowInfo),this.open&&this.autoConfig.appLaunch&&this.appShow(this.missAppShowInfo)),this.sdk.on(i.AppHide,(function(){n.sdk.pause||n.open&&n.autoConfig.appTerminate&&n.appHide()})),this.sdk.on(i.AppError,(function(e){n.sdk.pause||n.open&&n.autoConfig.appError&&n.appError(e)})),this.sdk.on(i.PageShow,(function(){var e=n.getRouteInfo();if(e){var t=e.path,r=e.query;n.sdk.env.set({evtParams:Object.assign({$current_path:t},r?{$current_query:JSON.stringify(r)}:{})})}n.sdk.pause||n.open&&n.autoConfig.pageShow&&n.pageShow()})),this.sdk.on(i.PageHide,(function(){n.sdk.pause||n.open&&n.autoConfig.pageHide&&n.pageHide()})),this.sdk.on(i.UuidChangeBefore,(function(){!n.sdk.pause&&n.sdk.ready&&n.open&&n.autoConfig.appTerminate&&n.appHide(!0)})),this.sdk.on(i.UuidChangeAfter,(function(){!n.sdk.pause&&n.sdk.ready&&n.open&&n.autoConfig.appLaunch&&n.appShow(n.appInfo,!0)})),this.options.enable_logsetting&&this.sdk.on(i.Ready,(function(){var e,t;if(n.autoConfig.click){var r=null===(t=null===(e=n.sdk.logsettings)||void 0===e?void 0:e.data)||void 0===t?void 0:t.bav_log_collect;n.sdk.isUndefined(r)||(n.autoConfig.click=!!r)}}))}},{key:"event",value:function(e,t){this.sdk.event(e,t)}},{key:"proxySetTitle",value:function(){var e=this.sdk.target;if(e){var t=this;try{var n=function(e){return function(){return function(n){try{var r=getCurrentPages(),i=r[r.length-1].route||"";t.sdk.isObject(n)||(n={});var o=t.sdk.get("title-caches")||{};o[i]=n.title,t.sdk.set("title-caches",o)}catch(e){}e.call(this,n)}}};if(void 0!==e.setNavigationBarTitle){var r=e.setNavigationBarTitle;Object.defineProperty(e,"setNavigationBarTitle",{get:n(r)})}else if(void 0!==e.setNavigationBar){var i=e.setNavigationBar;Object.defineProperty(e,"setNavigationBar",{get:n(i)})}}catch(e){}}}},{key:"getPageTitle",value:function(e){var t=this.sdk.targetEnvConfig,n=this.sdk.get("title-caches"),r="";if(void 0!==(null==n?void 0:n[e])&&(r=n[e]),!r)try{if(t){var i=t.page[e]||t.page[e+".html"];i&&(r=i.window.navigationBarTitleText),r||(r=t.global.window.navigationBarTitleText)}}catch(e){}return r}},{key:"getRouteInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;try{var n=(t=t||getCurrentPages()).length-e;if(n<0)return null;var r=t[n],i=r.route,o=void 0===i?"":i,s=r.options,a=void 0===s?{}:s;return{path:o,query:a}}catch(e){}return null}},{key:"getCurrentPage",value:function(){var e=getCurrentPages()||[];return e[e.length-1]}},{key:"getQuery",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};if(this.sdk.isObject(t)){if(t.scene){var r=re(ne("".concat(t.scene)));Object.keys(r).forEach((function(e){n["query_".concat(e)]=r[e]}))}Object.keys(t).forEach((function(r){if(!e.sdk.UtmType.includes(r)&&"scene"!==r){var i=t[r];"from_title"===r&&(i=encodeURIComponent(ne(t[r]))),n["query_".concat(r)]=i}}))}return n}},{key:"fixInfo",value:function(e,t){var n=t;if(!t.path)if(t.args)n=t.args;else try{JSON.stringify(t)}catch(e){n={query:{}}}var r={info:n};return this.sdk.emit(this.sdk.types.TransformInfo,{type:e,rawInfo:t,wrapInfo:r}),n=r.info}},{key:"appLaunch",value:function(e){var t,n,r;this.appInfo=e||(null===(n=(t=this.sdk.target).getLaunchOptionsSync)||void 0===n?void 0:n.call(t)),this.appInfo=this.fixInfo("App.onLaunch",this.appInfo),this.scene=null===(r=this.appInfo)||void 0===r?void 0:r.scene,this.sdk.checkUsePlugin("official:utm")?this.sdk.emit(this.sdk.types.LaunchInfo,this.appInfo):this.sdk.emit(this.sdk.types.LaunchComplete)}},{key:"appShowPrefix",value:function(e){this.startup++,this.sdk.checkUsePlugin("official:utm")&&this.sdk.emit(this.sdk.types.LaunchInfo,e)}}],[{key:"init",value:function(t){var n={onLaunch:function(n){t.instances.forEach((function(e){e.emit(e.types.AppOpen,n)})),e.instances.forEach((function(e){e.sdk||(e.missAppLaunch=!0,e.missAppLaunchInfo=n)}))},onShow:function(n){t.instances.forEach((function(e){e.emit(e.types.AppShowStart,n),e.emit(e.types.AppShow,n)})),e.instances.forEach((function(e){e.sdk||(e.missAppShow=!0,e.missAppShowInfo=n)}))},onHide:function(){t.instances.forEach((function(e){e.emit(e.types.AppHide),e.emit(e.types.AppClose)}))},onError:function(e){t.instances.forEach((function(t){t.emit(t.types.AppError,e)}))}},r={onShow:function(){t.instances.forEach((function(e){e.emit(e.types.PageShow)}))},onHide:function(){t.instances.forEach((function(e){e.emit(e.types.PageHide)}))},onUnload:function(){t.instances.forEach((function(e){e.emit(e.types.PageHide)}))},onShareAppMessage:function(t){var n=e.instances.length;if(!n)return t;var r=e.instances[n-1];return r.sdk&&r.open&&r.autoConfig.pageShare?r.pageShare(t):t},onAddToFavorites:function(t){e.instances.length&&e.instances.forEach((function(e){e.sdk&&e.open&&e.autoConfig.pageFavorite&&e.pageFavorite(t)}))},onTabItemTap:function(t){e.instances.length&&e.instances.forEach((function(e){e.sdk&&e.open&&e.autoConfig.pageTabItemTap&&e.pageTabItemTap(t)}))}},i=function(t){var n,r=t&&t[0];if(r&&"tap"===r.type){var i=r.currentTarget||{},o=r.target||{};if(void 0!==p&&i.id!==o.id)return;var s,a={target:void 0,dataset:void 0};a.target=r.currentTarget,void 0!==p&&p&&p.getElementById&&a.target.id&&(s=p.getElementById(a.target.id));var u=a.dataset=(null==s?void 0:s.dataset)||(null===(n=r.currentTarget)||void 0===n?void 0:n.dataset)||{};if("is"===(null==u?void 0:u.devtool_))return;e.instances.map((function(e){if(e.autoConfig.click){if(e.sdk.emit(e.sdk.types.MpClick,a),!0===a.ignore)return;e.mpClick(a)}}))}},o=App;App=function(e){return Object.keys(n).forEach((function(t){var r=e[t];e[t]=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];try{n[t].apply(this,i)}catch(i){}return r&&r.apply(this,i)}})),o(e)};var s=Page;if(Page=function(e){var t=r;return Object.keys(t).forEach((function(n){var r=e[n];"onShareAppMessage"===n?r&&(e[n]=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var s=r?r.apply(this,i):{};try{var a=t[n].apply(this,[s]);s.path=a.path}catch(i){}return s}):"onAddToFavorites"===n?r&&(e[n]=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var s=r?r.apply(this,i):{};try{t[n].apply(this,[{res:i[0],result:s}])}catch(i){}return s}):e[n]=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];try{t[n].apply(this,i)}catch(i){}return r&&r.apply(this,i)}})),Object.keys(e).forEach((function(n){if(!Object.keys(t).includes(n)&&"function"==typeof e[n]){var r=e[n];e[n]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];try{i(t)}catch(t){}return r&&r.apply(this,t)}}})),s(e)},t.platform&&"swan"===t.platformIs&&Object.keys(s).forEach((function(e){Page[e]=s[e]})),"undefined"!=typeof Component){var a=Component;Component=function(e){e.methods||(e.methods={});var t=r;return Object.keys(t).forEach((function(n){var r=e.methods[n];"onShareAppMessage"===n?r&&(e.methods[n]=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var s=r?r.apply(this,i):{};try{var a=t[n].apply(this,[s]);s.path=a.path}catch(e){}return s}):"onAddToFavorites"===n?r&&(e.methods[n]=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var s=r?r.apply(this,i):{};try{t[n].apply(this,[{res:i[0],result:s}])}catch(e){}return s}):e.methods[n]=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];try{t[n].apply(this,i)}catch(e){}return r&&r.apply(this,i)}})),Object.keys(e.methods).forEach((function(t){if("function"==typeof e.methods[t]){var n=e.methods[t];e.methods[t]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];try{i(t)}catch(t){}return n&&n.apply(this,t)}}})),a(e)}}t.prototype.appLaunch=function(){this.appShow()},t.prototype.appTerminate=function(){this.appHide()},t.prototype.appShow=function(){var e;void 0!==this.target.getLaunchOptionsSync&&(e=this.target.getLaunchOptionsSync()),this.emit(this.types.AppShow,e)},t.prototype.appHide=function(){this.emit(this.types.AppHide)},t.prototype.appError=function(e){this.emit(this.types.AppError,e)},t.prototype.predefinePageview=function(){this.emit(this.types.PageShow)},t.prototype.predefinePageviewHide=function(){this.emit(this.types.PageHide)},t.prototype.shareAppMessage=function(e){try{var t=this.pluginInstances.find((function(e){return"official:auto"===e.constructor.pluginName}));if(t&&"function"==typeof t.pageShare)return t.pageShare(e)}catch(e){}return e}}}]),e}();we.pluginName="official:auto",we.instances=[];var Oe=function(){function e(){c(this,e),this.key="compensate",this.keyCache=[],this.batchMax=5,this.cacheBatchNumber=15,this.enable=!1,this.unReadyKeys={},this.bufferKeys={},this.errorKeys={},this.bufferPreKey="",this.errorPreKey="",this.hasKey=!1,this.startTime=0,this.closeTime=0,this.closeTimeMax=3e3}return f(e,[{key:"apply",value:function(e,t){var n=this;if(this.sdk=e,this.options=t,this.enable=!!this.options.enable_cache,this.enable){this.reportUrl=this.sdk.get("report_url"),this.bufferPreKey=this.sdk.getKey("buffer"),this.errorPreKey=this.sdk.getKey("compensate");var r=this.sdk.types;this.sdk.on(r.AppShow,(function(){n.hasKey?n.sdk.ready&&n.network()&&n.nowReport():n.getKeys().then((function(){n.hasKey=!0,n.sdk.ready&&n.network()&&n.nowReport()}))})),this.sdk.on(r.Ready,(function(){n.hasKey?n.network()&&n.nowReport():n.getKeys().then((function(){n.hasKey=!0,n.network()&&n.nowReport()}))})),this.sdk.on(r.Network,(function(e){e.current&&n.sdk.ready&&n.nowReport()})),this.sdk.on(r.AppClose,(function(){n.closeTime=k();try{["unReadyKeys","bufferKeys","errorKeys"].forEach((function(e){Object.keys(n[e]).forEach((function(t){2===n[e][t]&&delete n[e][t]}))}))}catch(e){}n.options.enable_trace&&n.logSdkStatus()})),this.sdk.on(r.SubmitError,(function(e){var t=e.event;n.storageError(t).then((function(e){n.errorKeys[e]=0}))})),this.sdk.on(r.CacheUnReady,(function(e){var t=e.length;if(t>0){var i="".concat(n.bufferPreKey,"_unready_"),o=function(e,t){var i=function(){if(!(k()-n.closeTime>n.closeTimeMax)){var r=[n.sdk.env.compose(t)];n.report(r).then((function(){n.sRemove(e)})).catch((function(){}))}};n.sdk.ready?i():n.sdk.once(r.Ready,(function(){i()}))};if(t>n.cacheBatchNumber)for(var s=a(e),u=function(){var e=s.splice(0,n.cacheBatchNumber);if(e.length>0){var t=i+n.random();n.sSet(t,e).then((function(){n.options.enable_retry_unready&&o(t,e)}))}};s.length>0;)u();else{var c=i+n.random();n.sSet(c,e).then((function(){n.options.enable_retry_unready&&o(c,e)}))}}})),this.sdk.on(r.CacheBuffer,(function(e){var t="".concat(n.bufferPreKey,"_buffer_")+n.random();n.sSet(t,e).then((function(){n.bufferKeys[t]=0}))}))}}},{key:"getKeys",value:function(){var e=this;return this.sdk.adapter.storageInfo().then((function(t){if(null==t?void 0:t.keys){var n=t.keys;Array.isArray(n)&&n.forEach((function(t){0===t.indexOf("".concat(e.bufferPreKey,"_unready"))?void 0===e.unReadyKeys[t]&&(e.unReadyKeys[t]=0):0===t.indexOf("".concat(e.bufferPreKey,"_buffer"))?void 0===e.bufferKeys[t]&&(e.bufferKeys[t]=0):0===t.indexOf("".concat(e.errorPreKey))&&void 0===e.errorKeys[t]&&(e.errorKeys[t]=0)}))}}))}},{key:"nowReport",value:function(){this.unReadyReport(),this.bufferReport(),this.errorReport()}},{key:"unReadyReport",value:function(){this.batchReport(this.unReadyKeys,!0)}},{key:"bufferReport",value:function(){this.batchReport(this.bufferKeys,!1)}},{key:"errorReport",value:function(){this.batchReport(this.errorKeys,!1)}},{key:"batchReport",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Object.keys(e).filter((function(t){return 0===e[t]}));if(0!==r.length)if(r.length<=3)r.forEach((function(r){e[r]=1,t.byKey(e,r,n)}));else for(var i=a(r),o=0,s=function(){var r=i.splice(0,3);r.length>0&&(r.forEach((function(t){e[t]=1})),setTimeout((function(){r.forEach((function(r){t.byKey(e,r,n)}))}),150*o)),o++};i.length>0;)s()}},{key:"byKey",value:function(e,t,n){var r=this;this.sGet(t).then((function(i){if(i){var o=n?[r.sdk.env.compose(i)]:i;r.report(o).then((function(){e[t]=2,r.sRemove(t)})).catch((function(){e[t]=0}))}else e[t]=2})).catch((function(){e[t]=0}))}},{key:"report",value:function(e){return this.reportUrl||(this.reportUrl=this.sdk.get("report_url"),this.reportUrl)?this.sdk.request({url:this.reportUrl,method:"POST",data:e},this.sdk.dataType.Event):Promise.reject()}},{key:"storageError",value:function(e){var t="".concat(this.errorPreKey,"_")+this.random();return this.sSet(t,e).then((function(){return t}))}},{key:"sGet",value:function(e){var t=this,n=this.sdk.adapter;return n.get(e).then((function(r){if(!t.sdk.isObject(r)||!r.timestamp)return n.remove(e).catch((function(){})),null;var i=k();return r.timestamp+6048e5<i?(n.remove(e).catch((function(){})),null):r.data}))}},{key:"sSet",value:function(e,t){return this.sdk.adapter.set(e,{data:t,timestamp:k()}).catch((function(){return!1}))}},{key:"sRemove",value:function(e){return this.sdk.adapter.remove(e).catch((function(){return!1}))}},{key:"random",value:function(){return"".concat(+new Date,"_").concat(Math.floor(1e5*Math.random()))}},{key:"logSdkStatus",value:function(){var e=this.sdk.env,t=e.get("web_id"),n=e.get("user_unique_id"),r=this.sdk.createEvent({event:"sdk_status_log",params:{duration:k()-this.startTime,aid:this.sdk.appId,init:this.sdk.inited,send:this.sdk.sended,ready:this.sdk.ready,webid:t,uuid:n}}),i=e.compose([r]);return i.header.app_id=666666,t||(i.user.web_id=new Array(25).fill(8).join(""),i.user.user_unique_id="__zhangxiaofan__"),this.report([i]).catch((function(){}))}},{key:"network",value:function(){return!!this.options.enable_skip_network||!!this.sdk.env.get("is_connected")}}]),e}();Oe.pluginName="official:compensate";var Se=function(){function e(){c(this,e),this.enable=!1}return f(e,[{key:"apply",value:function(e,t){this.sdk=e,this.options=t;var n=this.options.auto_report;if(this.sdk.isObject(n)&&(null==n?void 0:n.catchError)&&(this.enable=!0),this.enable){var r=this.sdk.target;r&&(this.listenRejection(r),this.listenNotFound(r))}}},{key:"listenError",value:function(e){var t=this;null==e||e.onError((function(e){t.sdk.event("on_error",{on_error:e})}))}},{key:"listenRejection",value:function(e){var t=this;null==e||e.onUnhandledRejection((function(e,n){t.sdk.event("on_unhandled_rejection",{reason:e})}))}},{key:"listenNotFound",value:function(e){var t=this;null==e||e.onPageNotFound((function(e){t.sdk.event("on_page_not_found",{info:e})}))}}]),e}();Se.pluginName="official:error",q.usePlugin(X),q.usePlugin(ee),q.usePlugin(se),q.usePlugin(ae),q.usePlugin(ue),q.usePlugin(de),q.usePlugin(ve),q.usePlugin(ye),q.usePlugin(ke),q.usePlugin(function(e){r(n,e);var t=i(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).sessionStart=0,e.sessionDepth=0,e.shareDepth=0,e}return f(n,[{key:"appShow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=e||this.appInfo,e=this.fixInfo("App.onShow",e);var n=this.sdk.sessionId;this.sessionStart=k();var r=e,i=r.query,o=void 0===i?{}:i,s=o.share_depth,a=void 0===s?0:s;this.shareDepth=Number(a)||0;var u=this.sdk.EventType,c=e,f=c.referrerInfo,h=d(e,["referrerInfo"]),l=h.query,p=d(h,["query"]),v=Object.assign(Object.assign({},l),f),y=Object.assign(Object.assign(Object.assign(Object.assign({},p),this.scene?{scene:this.scene}:{}),this.getQuery(v)),{session_id:n,$is_first_time:this.firstTime});y.launch_type=t?2:this.startup>1?1:0,this.sdk.emit(this.sdk.types.ExtendAppLaunch,y),this.event(u.appOnShow,y),this.firstTime===me.True&&(this.firstTime=me.False)}},{key:"appHide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getCurrentPage(),n=t.route,r=t.__route__,i=t.options,o=void 0===i?{}:i,s=n||r,a=Object.assign(Object.assign(Object.assign({},this.scene?{scene:this.scene}:{}),this.getQuery(o)),{exit_page:s,session_duration:Math.ceil((k()-this.sessionStart)/1e3),session_depth:this.sessionDepth,session_id:this.sdk.sessionId});a.terminate_type=e?2:1,this.sdk.emit(this.sdk.types.ExtendAppTerminate,a),this.event(this.sdk.EventType.appOnHide,a)}},{key:"appError",value:function(e){var t={on_error:e,session_id:this.sdk.sessionId};this.sdk.emit(this.sdk.types.ExtendAppError,t),this.event(this.sdk.EventType.appOnError,t)}},{key:"pageShow",value:function(){this.sessionDepth+=1;var e=this.getCurrentPage(),t=e.route,n=e.__route__,r=e.options,i=void 0===r?{}:r,o=t||n,s=this.sdk.EventType,a=this.getPageTitle(o),u=Object.assign(Object.assign(Object.assign({},this.scene?{scene:this.scene}:{}),this.getQuery(i)),{path:o,title:a,session_id:this.sdk.sessionId}),c=null;if(this.recentlyPage)c=this.recentlyPage;else{var f=this.getRouteInfo(2);f&&(c=f)}if(c){var h=c,l=h.path,p=void 0===l?"":l,d=h.query,v=void 0===d?{}:d,y=h.title,g=void 0===y?"":y;u.refer_path=p,u.refer_query=JSON.stringify(v),u.refer_title=g||this.getPageTitle(p)}this.sdk.emit(this.sdk.types.ExtendPageShow,u),this.recentlyPage={path:o,query:i,title:a},this.currentPvInfo={time:k(),params:Object.assign({},u)},this.event(s.pageOnShow,u)}},{key:"pageHide",value:function(){if(this.currentPvInfo){var e=this.currentPvInfo,t=e.time,n=e.params;this.currentPvInfo=null;var r=k()-t;r=r<0?0:r;var i=Object.assign(Object.assign({},n||{}),{duration:r,session_id:this.sdk.sessionId});this.sdk.emit(this.sdk.types.ExtendPageHide,i),this.event(this.sdk.EventType.pageOnHide,i)}}},{key:"pageShare",value:function(e){var t=this.sdk.env.get().user,n=t.user_unique_id,r=t.user_unique_id_type,i=this.shareDepth+1;if(e.path){var o=e.path,s="",a=o.indexOf("#");-1!==a&&(s=o.substr(a),o=o.substr(0,a));var u="";this.sdk.isUndefined(r)||(u="&from_user_unique_id_type=".concat(r));var c="from_user_unique_id=".concat(n).concat(u,"&share_depth=").concat(i,"&from_title=").concat(e.title);o+="".concat(-1!==o.indexOf("?")?"&":"?").concat(c),e.path=o+s}var f=e.title,h=e.path,l=void 0===h?"":h,p={title:f,path:l,page_path:l.split("?")[0],query_share_depth:i,session_id:this.sdk.sessionId};return this.sdk.emit(this.sdk.types.ExtendPageShare,p),this.event(this.sdk.EventType.pageOnShareAppMessage,p),Object.assign(Object.assign({},e),{share_depth:i})}},{key:"pageFavorite",value:function(e){var t=e||{},n=t.res,r=t.result,i=getCurrentPages(),o=i[i.length-1],s=o.route,a=o.__route__,u=s||a,c=r.query,f=d(r,["query"]),h=Object.assign(Object.assign({},f),{url_path:(null==n?void 0:n.webViewUrl)||u,url_query:c});this.sdk.emit(this.sdk.types.ExtendPageFavorite,h),this.event(this.sdk.EventType.pageOnAddToFavorites,h)}},{key:"pageTabItemTap",value:function(e){var t=e||{},n={index:t.index,path:t.pagePath,text:t.text};this.sdk.emit(this.sdk.types.ExtendPageTabItemTap,n),this.event(this.sdk.EventType.pageOnTabItemTap,n)}},{key:"mpClick",value:function(e){var t=e.target,n=e.dataset,r=getCurrentPages(),i=r[r.length-1],o=i.route,s=i.__route__,a=o||s,u={path:a,page_key:a};(null==t?void 0:t.id)&&(u.query_id=t.id),Object.keys(n).map((function(e){"id"!==e?u["query_".concat(e)]=n[e]:u.query_data_id=n.id})),this.event(this.sdk.EventType.mpClick,u)}}]),n}(we)),q.usePlugin(Oe),q.usePlugin(Se);var je=new q},3354:function(e,t,n){var r=n(959),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,f=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(f=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:f,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},5257:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}function _(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==o(e)&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=m.prototype;var k=b.prototype=new _;k.constructor=b,y(k,m.prototype),k.isPureReactComponent=!0;var w=Array.isArray,O=Object.prototype.hasOwnProperty,S={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)O.call(t,i)&&!j.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:S.current}}function E(e){return"object"===o(e)&&null!==e&&e.$$typeof===n}var A=/\/+/g;function C(e,t){return"object"===o(e)&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,s,a){var u=o(e);"undefined"!==u&&"boolean"!==u||(e=null);var c=!1;if(null===e)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===s?"."+C(c,0):s,w(a)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),I(a,t,i,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(c=0,s=""===s?".":s+":",w(e))for(var f=0;f<e.length;f++){var h=s+C(u=e[f],f);c+=I(u,t,i,h,a)}else if("function"==typeof(h=function(e){return null===e||"object"!==o(e)?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=h.call(e),f=0;!(u=e.next()).done;)c+=I(u=u.value,t,i,h=s+C(u,f++),a);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function x(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var q={current:null},U={transition:null},R={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:U,ReactCurrentOwner:S};t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=y({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)O.call(t,c)&&!j.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=P,t.createFactory=function(e){var t=P.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=U.transition;U.transition={};try{e()}finally{U.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return q.current.useCallback(e,t)},t.useContext=function(e){return q.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return q.current.useDeferredValue(e)},t.useEffect=function(e,t){return q.current.useEffect(e,t)},t.useId=function(){return q.current.useId()},t.useImperativeHandle=function(e,t,n){return q.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return q.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return q.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return q.current.useMemo(e,t)},t.useReducer=function(e,t,n){return q.current.useReducer(e,t,n)},t.useRef=function(e){return q.current.useRef(e)},t.useState=function(e){return q.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return q.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return q.current.useTransition()},t.version="18.2.0"},959:function(e,t,n){e.exports=n(5257)},1527:function(e,t,n){e.exports=n(3354)},2415:function(e,t,n){var r=n(5230).window,i=n(959);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=i.useState,a=i.useEffect,u=i.useLayoutEffect,c=i.useDebugValue;function f(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var h=void 0===r||void 0===r.document||void 0===r.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return u((function(){i.value=n,i.getSnapshot=t,f(i)&&o({inst:i})}),[e,n,t]),a((function(){return f(i)&&o({inst:i}),e((function(){f(i)&&o({inst:i})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:h},2179:function(e,t,n){var r=n(959),i=n(4322);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=i.useSyncExternalStore,a=r.useRef,u=r.useEffect,c=r.useMemo,f=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=a(null);if(null===h.current){var l={hasValue:!1,value:null};h.current=l}else l=h.current;h=c((function(){function e(e){if(!u){if(u=!0,s=e,e=r(e),void 0!==i&&l.hasValue){var t=l.value;if(i(t,e))return a=t}return a=e}if(t=a,o(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(s=e,a=n)}var s,a,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var p=s(e,h[0],h[1]);return u((function(){l.hasValue=!0,l.value=p}),[p]),f(p),p}},4322:function(e,t,n){e.exports=n(2415)},7231:function(e,t,n){e.exports=n(2179)},2981:function(e,t,n){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},5741:function(e,t,n){function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},8720:function(e,t,n){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},9868:function(e,t,n){function r(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,u,"next",e)}function u(e){r(s,i,o,a,u,"throw",e)}a(void 0)}))}}n.d(t,{Z:function(){return i}})},6235:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},7656:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(7693);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},8490:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(3898),i=n(8824),o=n(942),s=n(8720);function a(e,t){if(t&&("object"===(0,o.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,s.Z)(e)}function u(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}},3700:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(7693);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},9665:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(6469);function i(){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=(0,r.Z)(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}},3898:function(e,t,n){function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{Z:function(){return r}})},1185:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(1839);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8824:function(e,t,n){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},201:function(e,t,n){function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},7758:function(e,t,n){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},6517:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(3700);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},5826:function(e,t,n){function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})},4217:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(942);function i(){i=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(e){h=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new x(r||[]);return s(o,"_invoke",{value:E(e,n,a)}),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",v="executing",y="completed",g={};function m(){}function _(){}function b(){}var k={};h(k,u,(function(){return this}));var w=Object.getPrototypeOf,O=w&&w(w(T([])));O&&O!==n&&o.call(O,u)&&(k=O);var S=b.prototype=m.prototype=Object.create(k);function j(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(i,s,a,u){var c=p(e[i],e,s);if("throw"!==c.type){var f=c.arg,h=f.value;return h&&"object"==(0,r.Z)(h)&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(h).then((function(e){f.value=e,a(f)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;s(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function E(t,n,r){var i=d;return function(o,s){if(i===v)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var u=A(a,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=p(t,n,r);if("normal"===c.type){if(i=r.done?y:"suspendedYield",c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=y,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=p(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}throw new TypeError((0,r.Z)(t)+" is not iterable")}return _.prototype=b,s(S,"constructor",{value:b,configurable:!0}),s(b,"constructor",{value:_,configurable:!0}),_.displayName=h(b,f,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,h(e,f,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},j(P.prototype),h(P.prototype,c,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new P(l(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},j(S),h(S,f,"Generator"),h(S,u,(function(){return this})),h(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var u=o.call(s,"catchLoc"),c=o.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}},3533:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(6469),i=n(3700);function o(e,t,n,s){return(o="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,o){var s,a=(0,r.Z)(e,t);if(a){if((s=Object.getOwnPropertyDescriptor(a,t)).set)return s.set.call(o,n),!0;if(!s.writable)return!1}if(s=Object.getOwnPropertyDescriptor(o,t)){if(!s.writable)return!1;s.value=n,Object.defineProperty(o,t,s)}else(0,i.Z)(o,t,n);return!0})(e,t,n,s)}function s(e,t,n,r,i){if(!o(e,t,n,r||e)&&i)throw new TypeError("failed to set property");return n}},1839:function(e,t,n){function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return r}})},4562:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(5741);var i=n(7853),o=n(7758);function s(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},6469:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(3898);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}},9118:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(5741),i=n(201),o=n(7853),s=n(7758);function a(e){return(0,r.Z)(e)||(0,i.Z)(e)||(0,o.Z)(e)||(0,s.Z)()}},7749:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(2981);var i=n(201),o=n(7853);function s(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7693:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(942);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},942:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(e){return o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":o(e)})(e)}n.d(t,{Z:function(){return r}})},7853:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(2981);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},1697:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(3898),i=n(1839);var o=n(8824);function s(e,t,n){return(s=(0,o.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&(0,i.Z)(o,n.prototype),o}).apply(null,arguments)}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return s(e,arguments,(0,r.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(n,e)})(e)}},6596:function(e,t,n){n.d(t,{Z:function(){return Cn}});var r=function(){this.__data__=[],this.size=0};var i=function(e,t){return e===t||e!=e&&t!=t};var s=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1},a=Array.prototype.splice;var u=function(e){var t=this.__data__,n=s(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)};var c=function(e){var t=this.__data__,n=s(t,e);return n<0?void 0:t[n][1]};var f=function(e){return s(this.__data__,e)>-1};var h=function(e,t){var n=this.__data__,r=s(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=u,l.prototype.get=c,l.prototype.has=f,l.prototype.set=h;var p=l;var d=function(){this.__data__=new p,this.size=0};var v=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var y=function(e){return this.__data__.get(e)};var g=function(e){return this.__data__.has(e)},m="object"==("undefined"==typeof global?"undefined":o(global))&&global&&global.Object===Object&&global,_="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,b=m||_||Function("return this")(),k=b.Symbol,w=Object.prototype,O=w.hasOwnProperty,S=w.toString,j=k?k.toStringTag:void 0;var P=function(e){var t=O.call(e,j),n=e[j];try{e[j]=void 0;var r=!0}catch(e){}var i=S.call(e);return r&&(t?e[j]=n:delete e[j]),i},E=Object.prototype.toString;var A=function(e){return E.call(e)},C=k?k.toStringTag:void 0;var I=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":C&&C in Object(e)?P(e):A(e)};var x=function(e){var t=o(e);return null!=e&&("object"==t||"function"==t)};var T=function(e){if(!x(e))return!1;var t=I(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},q=b["__core-js_shared__"],U=function(){var e=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var R=function(e){return!!U&&U in e},N=Function.prototype.toString;var $=function(e){if(null!=e){try{return N.call(e)}catch(e){}try{return e+""}catch(e){}}return""},L=/^\[object .+?Constructor\]$/,D=Function.prototype,V=Object.prototype,F=D.toString,K=V.hasOwnProperty,z=RegExp("^"+F.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var M=function(e){return!(!x(e)||R(e))&&(T(e)?z:L).test($(e))};var Z=function(e,t){return null==e?void 0:e[t]};var B=function(e,t){var n=Z(e,t);return M(n)?n:void 0},H=B(b,"Map"),W=B(Object,"create");var J=function(){this.__data__=W?W(null):{},this.size=0};var G=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Q=Object.prototype.hasOwnProperty;var Y=function(e){var t=this.__data__;if(W){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Q.call(t,e)?t[e]:void 0},X=Object.prototype.hasOwnProperty;var ee=function(e){var t=this.__data__;return W?void 0!==t[e]:X.call(t,e)};var te=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=W&&void 0===t?"__lodash_hash_undefined__":t,this};function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ne.prototype.clear=J,ne.prototype.delete=G,ne.prototype.get=Y,ne.prototype.has=ee,ne.prototype.set=te;var re=ne;var ie=function(){this.size=0,this.__data__={hash:new re,map:new(H||p),string:new re}};var oe=function(e){var t=o(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var se=function(e,t){var n=e.__data__;return oe(t)?n["string"==typeof t?"string":"hash"]:n.map};var ae=function(e){var t=se(this,e).delete(e);return this.size-=t?1:0,t};var ue=function(e){return se(this,e).get(e)};var ce=function(e){return se(this,e).has(e)};var fe=function(e,t){var n=se(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function he(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}he.prototype.clear=ie,he.prototype.delete=ae,he.prototype.get=ue,he.prototype.has=ce,he.prototype.set=fe;var le=he;var pe=function(e,t){var n=this.__data__;if(n instanceof p){var r=n.__data__;if(!H||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new le(r)}return n.set(e,t),this.size=n.size,this};function de(e){var t=this.__data__=new p(e);this.size=t.size}de.prototype.clear=d,de.prototype.delete=v,de.prototype.get=y,de.prototype.has=g,de.prototype.set=pe;var ve=de;var ye=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var ge=function(e){return this.__data__.has(e)};function me(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new le;++t<n;)this.add(e[t])}me.prototype.add=me.prototype.push=ye,me.prototype.has=ge;var _e=me;var be=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var ke=function(e,t){return e.has(t)};var we=function(e,t,n,r,i,o){var s=1&n,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(e),f=o.get(t);if(c&&f)return c==t&&f==e;var h=-1,l=!0,p=2&n?new _e:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var d=e[h],v=t[h];if(r)var y=s?r(v,d,h,t,e,o):r(d,v,h,e,t,o);if(void 0!==y){if(y)continue;l=!1;break}if(p){if(!be(t,(function(e,t){if(!ke(p,t)&&(d===e||i(d,e,n,r,o)))return p.push(t)}))){l=!1;break}}else if(d!==v&&!i(d,v,n,r,o)){l=!1;break}}return o.delete(e),o.delete(t),l},Oe=b.Uint8Array;var Se=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var je=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Pe=k?k.prototype:void 0,Ee=Pe?Pe.valueOf:void 0;var Ae=function(e,t,n,r,o,s,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new Oe(e),new Oe(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=Se;case"[object Set]":var c=1&r;if(u||(u=je),e.size!=t.size&&!c)return!1;var f=a.get(e);if(f)return f==t;r|=2,a.set(e,t);var h=we(u(e),u(t),r,o,s,a);return a.delete(e),h;case"[object Symbol]":if(Ee)return Ee.call(e)==Ee.call(t)}return!1};var Ce=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Ie=Array.isArray;var xe=function(e,t,n){var r=t(e);return Ie(e)?r:Ce(r,n(e))};var Te=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o};var qe=function(){return[]},Ue=Object.prototype.propertyIsEnumerable,Re=Object.getOwnPropertySymbols,Ne=Re?function(e){return null==e?[]:(e=Object(e),Te(Re(e),(function(t){return Ue.call(e,t)})))}:qe;var $e=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Le=function(e){return null!=e&&"object"==o(e)};var De=function(e){return Le(e)&&"[object Arguments]"==I(e)},Ve=Object.prototype,Fe=Ve.hasOwnProperty,Ke=Ve.propertyIsEnumerable,ze=De(function(){return arguments}())?De:function(e){return Le(e)&&Fe.call(e,"callee")&&!Ke.call(e,"callee")};var Me=function(){return!1},Ze="object"==("undefined"==typeof exports?"undefined":o(exports))&&exports&&!exports.nodeType&&exports,Be=Ze&&"object"==("undefined"==typeof module?"undefined":o(module))&&module&&!module.nodeType&&module,He=Be&&Be.exports===Ze?b.Buffer:void 0,We=(He?He.isBuffer:void 0)||Me,Je=/^(?:0|[1-9]\d*)$/;var Ge=function(e,t){var n=o(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Je.test(e))&&e>-1&&e%1==0&&e<t};var Qe=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ye={};Ye["[object Float32Array]"]=Ye["[object Float64Array]"]=Ye["[object Int8Array]"]=Ye["[object Int16Array]"]=Ye["[object Int32Array]"]=Ye["[object Uint8Array]"]=Ye["[object Uint8ClampedArray]"]=Ye["[object Uint16Array]"]=Ye["[object Uint32Array]"]=!0,Ye["[object Arguments]"]=Ye["[object Array]"]=Ye["[object ArrayBuffer]"]=Ye["[object Boolean]"]=Ye["[object DataView]"]=Ye["[object Date]"]=Ye["[object Error]"]=Ye["[object Function]"]=Ye["[object Map]"]=Ye["[object Number]"]=Ye["[object Object]"]=Ye["[object RegExp]"]=Ye["[object Set]"]=Ye["[object String]"]=Ye["[object WeakMap]"]=!1;var Xe=function(e){return Le(e)&&Qe(e.length)&&!!Ye[I(e)]};var et=function(e){return function(t){return e(t)}},tt="object"==("undefined"==typeof exports?"undefined":o(exports))&&exports&&!exports.nodeType&&exports,nt=tt&&"object"==("undefined"==typeof module?"undefined":o(module))&&module&&!module.nodeType&&module,rt=nt&&nt.exports===tt&&m.process,it=function(){try{return nt&&nt.require&&nt.require("util").types||rt&&rt.binding&&rt.binding("util")}catch(e){}}(),ot=it&&it.isTypedArray,st=ot?et(ot):Xe,at=Object.prototype.hasOwnProperty;var ut=function(e,t){var n=Ie(e),r=!n&&ze(e),i=!n&&!r&&We(e),o=!n&&!r&&!i&&st(e),s=n||r||i||o,a=s?$e(e.length,String):[],u=a.length;for(var c in e)!t&&!at.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ge(c,u))||a.push(c);return a},ct=Object.prototype;var ft=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ct)};var ht=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),lt=Object.prototype.hasOwnProperty;var pt=function(e){if(!ft(e))return ht(e);var t=[];for(var n in Object(e))lt.call(e,n)&&"constructor"!=n&&t.push(n);return t};var dt=function(e){return null!=e&&Qe(e.length)&&!T(e)};var vt=function(e){return dt(e)?ut(e):pt(e)};var yt=function(e){return xe(e,vt,Ne)},gt=Object.prototype.hasOwnProperty;var mt=function(e,t,n,r,i,o){var s=1&n,a=yt(e),u=a.length;if(u!=yt(t).length&&!s)return!1;for(var c=u;c--;){var f=a[c];if(!(s?f in t:gt.call(t,f)))return!1}var h=o.get(e),l=o.get(t);if(h&&l)return h==t&&l==e;var p=!0;o.set(e,t),o.set(t,e);for(var d=s;++c<u;){var v=e[f=a[c]],y=t[f];if(r)var g=s?r(y,v,f,t,e,o):r(v,y,f,e,t,o);if(!(void 0===g?v===y||i(v,y,n,r,o):g)){p=!1;break}d||(d="constructor"==f)}if(p&&!d){var m=e.constructor,_=t.constructor;m==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _||(p=!1)}return o.delete(e),o.delete(t),p},_t=B(b,"DataView"),bt=B(b,"Promise"),kt=B(b,"Set"),wt=B(b,"WeakMap"),Ot="[object Map]",St="[object Promise]",jt="[object Set]",Pt="[object WeakMap]",Et="[object DataView]",At=$(_t),Ct=$(H),It=$(bt),xt=$(kt),Tt=$(wt),qt=I;(_t&&qt(new _t(new ArrayBuffer(1)))!=Et||H&&qt(new H)!=Ot||bt&&qt(bt.resolve())!=St||kt&&qt(new kt)!=jt||wt&&qt(new wt)!=Pt)&&(qt=function(e){var t=I(e),n="[object Object]"==t?e.constructor:void 0,r=n?$(n):"";if(r)switch(r){case At:return Et;case Ct:return Ot;case It:return St;case xt:return jt;case Tt:return Pt}return t});var Ut=qt,Rt="[object Arguments]",Nt="[object Array]",$t="[object Object]",Lt=Object.prototype.hasOwnProperty;var Dt=function(e,t,n,r,i,o){var s=Ie(e),a=Ie(t),u=s?Nt:Ut(e),c=a?Nt:Ut(t),f=(u=u==Rt?$t:u)==$t,h=(c=c==Rt?$t:c)==$t,l=u==c;if(l&&We(e)){if(!We(t))return!1;s=!0,f=!1}if(l&&!f)return o||(o=new ve),s||st(e)?we(e,t,n,r,i,o):Ae(e,t,u,n,r,i,o);if(!(1&n)){var p=f&&Lt.call(e,"__wrapped__"),d=h&&Lt.call(t,"__wrapped__");if(p||d){var v=p?e.value():e,y=d?t.value():t;return o||(o=new ve),i(v,y,n,r,o)}}return!!l&&(o||(o=new ve),mt(e,t,n,r,i,o))};var Vt=function e(t,n,r,i,o){return t===n||(null==t||null==n||!Le(t)&&!Le(n)?t!=t&&n!=n:Dt(t,n,r,i,e,o))};var Ft=function(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var u=(a=n[i])[0],c=e[u],f=a[1];if(s&&a[2]){if(void 0===c&&!(u in e))return!1}else{var h=new ve;if(r)var l=r(c,f,u,e,t,h);if(!(void 0===l?Vt(f,c,3,r,h):l))return!1}}return!0};var Kt=function(e){return e==e&&!x(e)};var zt=function(e){for(var t=vt(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Kt(i)]}return t};var Mt=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}};var Zt=function(e){var t=zt(e);return 1==t.length&&t[0][2]?Mt(t[0][0],t[0][1]):function(n){return n===e||Ft(n,e,t)}};var Bt=function(e){return"symbol"==o(e)||Le(e)&&"[object Symbol]"==I(e)},Ht=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wt=/^\w*$/;var Jt=function(e,t){if(Ie(e))return!1;var n=o(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Bt(e))||Wt.test(e)||!Ht.test(e)||null!=t&&e in Object(t)};function Gt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Gt.Cache||le),n}Gt.Cache=le;var Qt=Gt;var Yt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xt=/\\(\\)?/g,en=function(e){var t=Qt(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Yt,(function(e,n,r,i){t.push(r?i.replace(Xt,"$1"):n||e)})),t}));var tn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},nn=k?k.prototype:void 0,rn=nn?nn.toString:void 0;var on=function e(t){if("string"==typeof t)return t;if(Ie(t))return tn(t,e)+"";if(Bt(t))return rn?rn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var sn=function(e){return null==e?"":on(e)};var an=function(e,t){return Ie(e)?e:Jt(e,t)?[e]:en(sn(e))};var un=function(e){if("string"==typeof e||Bt(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var cn=function(e,t){for(var n=0,r=(t=an(t,e)).length;null!=e&&n<r;)e=e[un(t[n++])];return n&&n==r?e:void 0};var fn=function(e,t,n){var r=null==e?void 0:cn(e,t);return void 0===r?n:r};var hn=function(e,t){return null!=e&&t in Object(e)};var ln=function(e,t,n){for(var r=-1,i=(t=an(t,e)).length,o=!1;++r<i;){var s=un(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Qe(i)&&Ge(s,i)&&(Ie(e)||ze(e))};var pn=function(e,t){return null!=e&&ln(e,t,hn)};var dn=function(e,t){return Jt(e)&&Kt(t)?Mt(un(e),t):function(n){var r=fn(n,e);return void 0===r&&r===t?pn(n,e):Vt(t,r,3)}};var vn=function(e){return e};var yn=function(e){return function(t){return null==t?void 0:t[e]}};var gn=function(e){return function(t){return cn(t,e)}};var mn=function(e){return Jt(e)?yn(un(e)):gn(e)};var _n=function(e){return"function"==typeof e?e:null==e?vn:"object"==o(e)?Ie(e)?dn(e[0],e[1]):Zt(e):mn(e)};var bn=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};var kn=function(e){return e!=e};var wn=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var On=function(e,t,n){return t==t?wn(e,t,n):bn(e,kn,n)};var Sn=function(e,t){return!!(null==e?0:e.length)&&On(e,t,0)>-1};var jn=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var Pn=function(){},En=kt&&1/je(new kt([,-0]))[1]==1/0?function(e){return new kt(e)}:Pn;var An=function(e,t,n){var r=-1,i=Sn,o=e.length,s=!0,a=[],u=a;if(n)s=!1,i=jn;else if(o>=200){var c=t?null:En(e);if(c)return je(c);s=!1,i=ke,u=new _e}else u=t?[]:a;e:for(;++r<o;){var f=e[r],h=t?t(f):f;if(f=n||0!==f?f:0,s&&h==h){for(var l=u.length;l--;)if(u[l]===h)continue e;t&&u.push(h),a.push(f)}else i(u,h,n)||(u!==a&&u.push(h),a.push(f))}return a};var Cn=function(e,t){return e&&e.length?An(e,_n(t,2)):[]}},9360:function(e,t,n){n.d(t,{Ue:function(){return h}});var r=function(e){var t,n=new Set,r=function(e,r){var i="function"==typeof e?e(t):e;if(!Object.is(i,t)){var s=t;t=(null!=r?r:"object"!==o(i))?i:Object.assign({},t,i),n.forEach((function(e){return e(t,s)}))}},i=function(){return t},s={setState:r,getState:i,subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,s),s},i=n(959),s=n(7231),a=i.useDebugValue,u=s.useSyncExternalStoreWithSelector,c=!1;var f=function(e){"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");var t="function"==typeof e?function(e){return e?r(e):r}(e):e,n=function(e,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getState,n=arguments.length>2?arguments[2]:void 0;n&&!c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),c=!0);var r=u(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return a(r),r}(t,e,n)};return Object.assign(n,t),n},h=function(e){return e?f(e):f}},1786:function(t,n,r){r.d(n,{n:function(){return G}});var i=Symbol.for("immer-nothing"),s=Symbol.for("immer-draftable"),a=Symbol.for("immer-state");function h(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var l=Object.getPrototypeOf;function p(e){return!!e&&!!e[a]}function d(e){var t;return!!e&&(y(e)||Array.isArray(e)||!!e[s]||!(null===(t=e.constructor)||void 0===t||!t[s])||k(e)||w(e))}var v=Object.prototype.constructor.toString();function y(e){if(!e||"object"!==o(e))return!1;var t=l(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===v}function g(e,t){0===m(e)?Object.entries(e).forEach((function(n){var r=u(n,2),i=r[0],o=r[1];t(i,o,e)})):e.forEach((function(n,r){return t(r,n,e)}))}function m(e){var t=e[a];return t?t.type_:Array.isArray(e)?1:k(e)?2:w(e)?3:0}function _(e,t){return 2===m(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function b(e,t,n){var r=m(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function k(e){return e instanceof Map}function w(e){return e instanceof Set}function O(e){return e.copy_||e.base_}function S(t,n){if(k(t))return new Map(t);if(w(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!n&&y(t)){if(!l(t)){var r=Object.create(null);return Object.assign(r,t)}return e({},t)}var i=Object.getOwnPropertyDescriptors(t);delete i[a];for(var o=Reflect.ownKeys(i),s=0;s<o.length;s++){var u=o[s],c=i[u];!1===c.writable&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(i[u]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[u]})}return Object.create(l(t),i)}function j(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return E(e)||p(e)||!d(e)||(m(e)>1&&(e.set=e.add=e.clear=e.delete=P),Object.freeze(e),t&&g(e,(function(e,t){return j(t,!0)}))),e}function P(){h(2)}function E(e){return Object.isFrozen(e)}var A,C={};function I(e){var t=C[e];return t||h(0),t}function x(){return A}function T(e,t){t&&(I("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function q(e){U(e),e.drafts_.forEach(N),e.drafts_=null}function U(e){e===A&&(A=e.parent_)}function R(e){return A=function(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}(A,e)}function N(e){var t=e[a];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function $(e,t){t.unfinalizedDrafts_=t.drafts_.length;var n=t.drafts_[0];return void 0!==e&&e!==n?(n[a].modified_&&(q(t),h(4)),d(e)&&(e=L(t,e),t.parent_||V(t,e)),t.patches_&&I("Patches").generateReplacementPatches_(n[a].base_,e,t.patches_,t.inversePatches_)):e=L(t,n,[]),q(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==i?e:void 0}function L(e,t,n){if(E(t))return t;var r=t[a];if(!r)return g(t,(function(i,o){return D(e,r,t,i,o,n)})),t;if(r.scope_!==e)return t;if(!r.modified_)return V(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;var i=r.copy_,o=i,s=!1;3===r.type_&&(o=new Set(i),i.clear(),s=!0),g(o,(function(t,o){return D(e,r,i,t,o,n,s)})),V(e,i,!1),n&&e.patches_&&I("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function D(e,t,n,r,i,o,s){if(p(i)){var a=L(e,i,o&&t&&3!==t.type_&&!_(t.assigned_,r)?o.concat(r):void 0);if(b(n,r,a),!p(a))return;e.canAutoFreeze_=!1}else s&&n.add(i);if(d(i)&&!E(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;L(e,i),t&&t.scope_.parent_||V(e,i)}}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&j(t,n)}var F={get:function(e,t){if(t===a)return e;var n=O(e);if(!_(n,t))return function(e,t,n){var r,i=M(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);var r=n[t];return e.finalized_||!d(r)?r:r===z(e.base_,t)?(B(e),e.copy_[t]=H(r,e)):r},has:function(e,t){return t in O(e)},ownKeys:function(e){return Reflect.ownKeys(O(e))},set:function(e,t,n){var r=M(O(e),t);if(null!=r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){var i=z(O(e),t),o=null==i?void 0:i[a];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,i)&&(void 0!==n||_(e.base_,t)))return!0;B(e),Z(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:function(e,t){return void 0!==z(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,B(e),Z(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor:function(e,t){var n=O(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){h(11)},getPrototypeOf:function(e){return l(e.base_)},setPrototypeOf:function(){h(12)}},K={};function z(e,t){var n=e[a];return(n?O(n):e)[t]}function M(e,t){if(t in e)for(var n=l(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=l(n)}}function Z(e){e.modified_||(e.modified_=!0,e.parent_&&Z(e.parent_))}function B(e){e.copy_||(e.copy_=S(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function H(e,t){var n=k(e)?I("MapSet").proxyMap_(e,t):w(e)?I("MapSet").proxySet_(e,t):function(e,t){var n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:x(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=r,o=F;n&&(i=[r],o=K);var s=Proxy.revocable(i,o),a=s.revoke,u=s.proxy;return r.draft_=u,r.revoke_=a,u}(e,t);return(t?t.scope_:x()).drafts_.push(n),n}g(F,(function(e,t){K[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),K.deleteProperty=function(e,t){return K.set.call(this,e,t,void 0)},K.set=function(e,t,n){return F.set.call(this,e[0],t,n,e[0])};var W=new(function(){function e(t){var n=this;c(this,e),this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=function(e,t,r){if("function"==typeof e&&"function"!=typeof t){var s=t;t=e;var a=n;return function(){for(var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return a.produce(n,(function(n){var r;return(r=t).call.apply(r,[e,n].concat(i))}))}}var u;if("function"!=typeof t&&h(6),void 0!==r&&"function"!=typeof r&&h(7),d(e)){var c=R(n),f=H(e,void 0),l=!0;try{u=t(f),l=!1}finally{l?q(c):U(c)}return T(c,r),$(u,c)}if(!e||"object"!==o(e)){if(void 0===(u=t(e))&&(u=e),u===i&&(u=void 0),n.autoFreeze_&&j(u,!0),r){var p=[],v=[];I("Patches").generateReplacementPatches_(e,u,p,v),r(p,v)}return u}h(1)},this.produceWithPatches=function(e,t){return"function"==typeof e?function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return n.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(i))}))}:[n.produce(e,t,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),"boolean"==typeof(null==t?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}return f(e,[{key:"createDraft",value:function(e){d(e)||h(8),p(e)&&(e=function(e){return p(e)||h(10),function e(t){if(!d(t)||E(t))return t;var n,r=t[a];if(r){if(!r.modified_)return r.base_;r.finalized_=!0,n=S(t,r.scope_.immer_.useStrictShallowCopy_)}else n=S(t,!0);return g(n,(function(t,r){b(n,t,e(r))})),r&&(r.finalized_=!1),n}(e)}(e));var t=R(this),n=H(e,void 0);return n[a].isManual_=!0,U(t),n}},{key:"finishDraft",value:function(e,t){var n=e&&e[a];n&&n.isManual_||h(9);var r=n.scope_;return T(r,t),$(void 0,r)}},{key:"setAutoFreeze",value:function(e){this.autoFreeze_=e}},{key:"setUseStrictShallowCopy",value:function(e){this.useStrictShallowCopy_=e}},{key:"applyPatches",value:function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=I("Patches").applyPatches_;return p(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))}}]),e}()),J=W.produce;W.produceWithPatches.bind(W),W.setAutoFreeze.bind(W),W.setUseStrictShallowCopy.bind(W),W.applyPatches.bind(W),W.createDraft.bind(W),W.finishDraft.bind(W);var G=function(e){return function(t,n,r){return r.setState=function(e,n){for(var r="function"==typeof e?J(e):e,i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];return t.apply(void 0,[r,n].concat(o))},e(r.setState,n,r)}}}}]);